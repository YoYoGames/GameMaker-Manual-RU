<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Компиляция</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css" />
  <script src="../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Compiling Projects In GameMaker" />
  <meta name="rh-index-keywords" content="Compiling" />
  <meta name="search-keywords" content="compiling" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Компиляция</h1>
  <p><a class="glossterm" data-glossterm="Компиляция" href="#">Компиляция</a> вашей игры может означать одно из двух: компиляция для тестирования или компиляция для создания финальной версии игры для конкретной целевой платформы. <em><a class="glossterm" data-glossterm="исполняемый пакет" href="#">исполняемый пакет</a></em> для конкретной целевой платформы. Эта страница призвана подробно объяснить оба варианта.</p>
  <h2>Компиляция для тестирования</h2>
  <p>Компиляция игры для тестирования может быть выполнена простым нажатием кнопки Play <img> в верхней части страницы <span class="notranslate">IDE</span>, которая запустит игру для тестирования с использованием указанной цели. Вы также можете запустить игру в <strong>режиме отладки</strong>, используя кнопку Debug <img>. При этом игра будет запущена, но также откроется <strong>окно отладки</strong>, где вы сможете проследить за работой игры и увидеть любые проблемы (более подробную информацию см. в разделе " <a href="Debugging.htm">Отладка"</a> ).</p>
  <h2>Целевые установки</h2>
  <p>По умолчанию <span data-keyref="GameMaker Name">GameMaker</span> запускается и отлаживается с помощью встроенной <a class="glossterm" data-glossterm="Виртуальная машина (VM)" href="#">виртуальной машины (VM)</a>, что практически аналогично запуску на используемой настольной ОС. Однако <span data-keyref="GameMaker Name">GameMaker</span> является <strong>кроссплатформенным движком</strong>, и вы можете тестировать, отлаживать и компилировать исполняемые пакеты ваших проектов на нескольких различных целевых платформах (конкретные доступные платформы зависят от деталей вашей лицензии). Для изменения текущей целевой платформы вы можете щелкнуть <img> на кнопке Targets <img>, чтобы открыть <strong>окно Targets Window</strong>, которое будет выглядеть примерно так (точные детали зависят от типа вашей лицензии):</p>
  <p><img>В верхней части окна, рядом с кнопкой "Цели", отображаются текущие настройки, которые указывают на платформу и конкретные настройки, используемые в данный момент, а остальная часть окна занята деталями и опциями для всех доступных целей, которые вы можете выбрать для использования вместо них. Каждый раздел этого окна объясняется ниже:</p>
  <div class="droptext" data-targetname="drop_down">
    <ul class="colour">
    </ul>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down2" href="#">Платформа</a></p>
  <div class="droptext" data-targetname="drop_down2">
    <p class="dropspot">В этом разделе перечислены все доступные целевые платформы. Содержание этого списка зависит от имеющейся у вас лицензии, но в нем всегда будет присутствовать, по крайней мере, цель &quot;Opera GX&quot;. Чтобы выбрать цель, просто щелкните на ней <img>; это приведет к обновлению остальных окон опций для отображения различных деталей в зависимости от выбранной платформы.</p>
    <p class="dropspot">Подробные сведения о компиляции для каждой платформы приведены в разделе &quot;<strong>Создание конечного исполняемого пакета</strong>&quot; ниже.</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down3" href="#">Выход</a></p>
  <div class="droptext" data-targetname="drop_down3">
    <p class="dropspot">Каждая целевая платформа может иметь один или несколько форматов вывода, основными из которых являются:</p>
    <ul class="dropspotlist">
      <li class="dropspot"><strong>VM</strong>: Цель VM (виртуальная машина) использует общий <em>бегунок </em>для каждой платформы, а затем интерпретирует код для вашей игры. Обычно этот вариант используется для тестирования из-за более быстрого времени сборки, но он не дает такого же прироста производительности, как использование опции YYC (если она доступна). Вы можете использовать его для компиляции исполняемых пакетов для небольших игр или игр, в которых производительность не является проблемой.</li>
      <li class="dropspot"><strong>YYC</strong>: YYC<a data-xref="{title}" href="../Settings/YoYo_Compiler.htm">(YoYo Compiler</a>) генерирует код C++ из вашего кода <span class="notranslate">GML</span>, а затем использует компилятор C++ для компиляции в родной код для целевой платформы. Он удаляет ненужные функции и выполняет множество других методов оптимизации, чтобы создать меньший по размеру и улучшенный по производительности исполняемый пакет.<br>
        <br>
        Это может увеличить производительность вашей игры как минимум в два или три раза, особенно в играх с большим количеством логики, и идеально подходит для больших или требовательных к процессору проектов. Время компиляции может занять больше времени, поэтому всегда следует очищать кэш компилятора перед сборкой окончательного полного пакета активов для целевой платформы. Обратите внимание, что YYC-цель может потребовать установки дополнительных инструментов для выбранной платформы, иначе она не будет работать - вы можете найти дополнительную информацию об этом в <a href="https://help.yoyogames.com/hc/en-us/articles/227860547-GMS2-Required-SDKs">Справочном центре YoYo Games</a>, а также на страницах <a href="../Setting_Up_And_Version_Information/Platform_Preferences.htm">настроек</a> отдельных <a href="../Setting_Up_And_Version_Information/Platform_Preferences.htm">целей</a>, описанных в этом руководстве.
      </li>
      <li class="dropspot"><strong>JavaScript</strong>: Цель JavaScript будет доступна только для определенных целей, таких как цель HTML5, и задает компиляцию игры в чистый JavaScript. При этом для вывода JS используется <strong>ECMAScript 2015</strong> (или ES6).</li>
    </ul>
    <p class="dropspot"><span data-condition="Export:Beta">For 2024.800+ beta versions of <span data-keyref="GameMaker Name">GameMaker</span>, some platforms may also include the &quot;<strong>GMRT</strong>&quot; and &quot;<strong>GMRT VM</strong>&quot; outputs as part of the <a data-xref="{title}" href="../Settings/Runner_Details/GMRT_(GameMaker_Runtime).htm">GMRT (GameMaker Runtime)</a> open beta.</span></p>
    <ul class="dropspotlist">
    </ul>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down4" href="#">Устройство</a></p>
  <div class="droptext" data-targetname="drop_down4">
    <p class="dropspot">Некоторые платформы (например, <span class="notranslate">iOS</span> или <span class="notranslate">Android</span>) позволяют связать одно или несколько устройств с <span data-keyref="GameMaker Name">GameMaker</span>, чтобы игры могли выборочно компилироваться для них. Первоначально список устройств будет пуст, и вам нужно щелкнуть <img> на значке карандаша <img>, чтобы открыть <strong>редактор устройств</strong>:</p>
    <p class="dropspot"><img>Здесь вы можете добавить новые устройства, а также заставить <span data-keyref="GameMaker Name">GameMaker</span> проверить подключение к любому устройству (устройствам), которое может быть подключено. Точное содержание этого окна зависит от специфики платформы (см. раздел " <a href="../Setting_Up_And_Version_Information/The_Device_Manager.htm">Диспетчер устройств</a> " для получения точной информации о конкретной платформе). После того как устройство будет найдено или добавлено, оно будет показано в этом окне, как показано в данном примере для Android:</p>
    <p class="dropspot"><img>Точные процедуры и требования по настройке устройств и устранению неполадок можно найти в соответствующем разделе <a href="https://help.yoyogames.com/hc/en-us/categories/204246668-GameMaker-Studio-2">базы знаний<span data-keyref="GameMaker Name">GameMaker</span></a>.</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#">Конфигурация</a></p>
  <div class="droptext" data-targetname="drop-down">
    <p class="dropspot"><span>Как объясняется в разделе<span> </span></span><a href="../Settings/Configurations.htm">Конфигурации</a><span>вы можете хранить определенные детали для компиляции вашей игры как<span> </span></span><strong>Конфиги</strong><span>. Этот раздел окна Targets позволяет вам автоматически выбирать конфигурацию <span data-keyref="GameMaker Name">GameMaker</span> для конкретной целевой платформы.</span></p>
  </div>
  <p>Существует также ряд предпочтений, которые можно установить для изменения и настройки рабочего процесса компиляции, о которых рассказывается на следующей странице:</p>
  <ul class="colour">
    <li><a href="../Setting_Up_And_Version_Information/IDE_Preferences/General/Compiling.htm">Предпочтения компиляции</a></li>
  </ul>
  <h2>Создание конечного исполняемого пакета</h2>
  <h3>Обзор</h3>
  <p>Вы можете просто нажать кнопку Create Executable <img> на сайте <span class="notranslate">IDE</span>, чтобы начать сборку компилятора, или выбрать <strong>Create Executable</strong> из <a href="../IDE_Navigation/Menus/The_Build_Menu.htm">меню Build Menu</a>. Любой из этих способов запустит процесс сборки, который будет зависеть от выбранной целевой платформы.</p>
  <p>На цели Opera GX откроется специальное окно, позволяющее скомпилировать и загрузить вашу игру на GX.games; на всех остальных целях откроется окно проводника файлов, где вы можете дать окончательное имя, которое вы хотите использовать для исполняемого файла вашей игры, а затем нажать кнопку <em>Save </em>, чтобы начать процесс компиляции и сборки. После этого будут созданы необходимые файлы, и вы сможете распространять игру по своему усмотрению.</p>
  <p>Для некоторых платформ компиляция вашего игрового проекта потребует, чтобы вы установили правильные настройки <strong> <a class="glossterm" data-glossterm="инструменты для сборки" href="#">инструменты сборки</a></strong> (см. <a href="../Setting_Up_And_Version_Information/Required_SDKs.htm">здесь</a>), а также заполнить соответствующие <a href="../Setting_Up_And_Version_Information/Platform_Preferences.htm">Параметры платформы</a>.</p>
  <p>В зависимости от вашей <a href="https://help.yoyogames.com/hc/en-us/articles/115002637011" title="Which Licence Is Right For Me?">лицензии</a>, у вас может быть возможность собирать игру через командную строку, что позволит вам настроить непрерывную интеграцию для вашего проекта и упростить процесс сборки и тестирования. Дополнительную информацию о сборке через командную строку можно найти на <a href="../Settings/Building_via_Command_Line.htm">этой странице</a>.</p>
  <p class="note"><span class="note"><strong>ПРИМЕЧАНИЕ</strong></span> Перед окончательной сборкой проекта для релиза <strong>всегда</strong> следует <strong>очистить <a class="glossterm" data-glossterm="Кэш" href="#">кэш</a></strong> компилятора ассетов (с помощью значка &quot;метлы&quot; <img> в верхней части сайта <span class="notranslate">IDE</span>). <span data-keyref="GameMaker Name">GameMaker</span> кэширует многие файлы игры, чтобы снизить скорость компиляции до минимума, и иногда они могут быть повреждены, поэтому безопаснее очистить этот кэш перед сборкой релиза.</p>
  <p>Максимальный размер конечного пакета игры составляет 4 ГБ, за исключением 32-битного <span class="notranslate">Windows</span>, где он составляет 2 ГБ. См. <a href="https://help.yoyogames.com/hc/en-us/articles/4642066783505-How-to-Reduce-Your-Game-s-Size">советы по уменьшению размера финальной игры</a>.</p>
  <h3>Форматы целей</h3>
  <p>Каждый целевой параметр сохраняется в формате, характерном для конкретной платформы, перечисленных ниже:</p>
  <ul class="colour">
    <li><strong>Opera GX</strong> - При компиляции для цели &quot;Opera GX&quot; вы увидите окно &quot;Opera GX Packaging&quot;, которое сначала попросит вас войти в систему, используя вашу учетную запись Opera:<img>Обратите внимание, что вам не нужно входить в систему, если вы уже вошли в <span data-keyref="GameMaker Name">GameMaker</span>, используя вашу учетную запись Opera.<br>
      <br>
      После того, как вы вошли в систему, начнется компиляция вашей игры и ее загрузка на GX.games. Затем вы можете нажать на &quot;Редактировать игру в Opera&quot;, чтобы отредактировать ее в GX.games DevCloud и опубликовать:<br>
      <img>Пожалуйста, обратитесь к <a href="https://help.yoyogames.com/hc/en-us/articles/4407217145105">этой странице</a>, чтобы узнать больше о процессе загрузки игры в Opera GX, и к <a href="https://help.yoyogames.com/hc/en-us/articles/4625548722193">этой странице</a> для настройки различных видов экспорта, таких как <a href="../Settings/YoYo_Compiler.htm">YYC</a> и Mobile.
    </li>
    <li><strong>Windows - </strong> При компиляции для общей операционной системы <span class="notranslate">Windows</span> вам сначала будет предложено выбрать между созданием <em>инсталлятора </em>и <em>Zip-пакета </em>, где инсталлятор будет представлять собой один исполняемый файл, который установит вашу игру, а Zip-файл будет представлять собой один сжатый файл формата <span class="inline">*.zip</span> со всеми файлами вашей игры, хранящимися внутри (файлы нужно будет извлечь для запуска игры). <img>Если вы отметите флажок " <strong>Запомнить вариант упаковки</strong> ", то <span data-keyref="GameMaker Name">GameMaker</span> запомнит этот выбор для всех последующих компиляций (его можно сбросить или изменить в <a href="../Setting_Up_And_Version_Information/Platform_Preferences/Windows.htm">настройках Windows</a>). Более подробную информацию вы можете найти в <a href="https://help.yoyogames.com/hc/en-us/sections/207157668">Справочном центре YoYo Games</a>. Обратите внимание, что цель <span class="notranslate">Windows</span> может компилировать 32-битные <em>или </em>64-битные исполняемые файлы в зависимости от того, что вы выбрали в <a href="../Settings/Game_Options/Windows.htm">Общих параметрах игры</a>.  Мы <strong>настоятельно рекомендуем всем новым проектам использовать x64 Runtime для создания 64-битных исполняемых файлов</strong>, так как 32-битная среда выполнения будет устаревать и удаляться в будущем.</li>
    <li><strong>Ubuntu (<span class="notranslate">Linux</span>)</strong> - При компиляции для <span class="notranslate">Ubuntu</span> вам будет предложено выбрать между созданием <strong>.AppImage</strong> или <strong>.zip</strong> файла, содержащего исполняемый файл x64 или ARM (однако AppImage не поддерживает ARM). Более подробную информацию вы можете получить в <a href="http://help.yoyogames.com/hc/en-us/articles/235186168">Справочном центре YoYo Games</a>.<br>
      <img><strong>.AppImage</strong> используется для распространения в виде пакета через любого дистрибьютора, кроме <span class="notranslate">Steam</span>, в то время как <strong>.zip</strong> используется <strong>только</strong> для загрузки на <span class="notranslate">Steam</span> (поскольку он использует <span class="notranslate">Steam</span> Runtime). Из-за этого созданный <tt>.zip</tt> не может быть открыт как обычный zip-файл.
    </li>
    <li><strong>HTML5 - </strong> Если вы выбрали сборку HTML5, то будет создан файл <span class="inline">index.html</span> (это имя по умолчанию, но вы можете дать ему собственное имя в Настройках платформы), а также папка с файлами вашей игры, которые будут сохранены в указанном месте. Для того чтобы ваша игра работала, необходимо, чтобы оба эти файла были загружены на <a class="glossterm" data-glossterm="сервер" href="#">сервер</a>. Сайт <span class="inline">index.html</span> также можно настроить, чтобы показать вашу игру с другим цветом фона, или в другом положении и т.д... но для этого необходимо знание HTML, и вы также можете указать свой собственный индексный файл при сборке пакета (см. <a href="../Settings/Game_Options/HTML5.htm">Опции игры HTML5</a>). Вы можете узнать больше в <a href="http://help.yoyogames.com/hc/en-us/sections/115000309008">Справочном центре YoYo Games</a>.</li>
    <li><strong>Android - </strong> Для устройств <span class="notranslate">Android</span> вы можете выбрать файл <span class="inline">*.apk</span> или <span class="inline">*.aab</span> (<span class="notranslate">Android</span> App Bundle) из окна, которое отображается для сохранения игры:<br>
      <br>
      <img>Тип выбранного вами файла зависит от магазина, на который вы хотите ориентироваться: файл <span class="inline">*.aab</span> требуется для Google Play, а файл <span class="inline">*.apk</span> можно использовать в других магазинах. Более подробную информацию вы можете получить в <a href="http://help.yoyogames.com/hc/en-us/articles/115001368727">Справочном центре YoYo Games</a>.
    </li>
    <li><strong>iOS - </strong> При компиляции для <span class="notranslate">iOS</span> будет создан файл <span class="inline">xarchive</span>, который затем используется в Xtools для создания окончательного пакета <span class="notranslate">iOS</span>. Обратите внимание, что <strong>для компиляции по адресу <span class="notranslate">iOS</span> вам потребуется компьютер Apple Mac под управлением OSX или выше, а также соответствующие сертификаты и разрешения</strong>. Более подробную информацию вы можете получить в <a href="http://help.yoyogames.com/hc/en-us/articles/115001368747">Справочном центре YoYo Games</a>.</li>
    <li><strong>macOS - </strong> При компиляции для цели <span class="notranslate">macOS</span> сначала будет предложено выбрать между созданием <em>DMG </em>и <em>Zip-файла </em>:<br>
      <img>&quot;Package as DMG&quot; создаст установочный пакет .dmg, который можно использовать для установки игры на компьютер Mac. Обратите внимание, что во время процесса сборки на Mac появится программа установки, которая исчезнет после завершения процесса сборки.<br>
      <br>
      &quot;Package as Zip&quot; создаст либо файл <span class="inline">*.app</span>, либо файл <span class="inline">*.pkg</span>, в зависимости от того, хотите ли вы впоследствии загрузить его в Mac App Store или нет. Как и в случае с <span class="notranslate">iOS</span>, <strong>вам потребуется компьютер Apple Mac под управлением OSX или выше, а также соответствующие сертификаты и разрешения</strong>. Более подробную информацию вы можете получить в <a href="http://help.yoyogames.com/hc/en-us/articles/235186128">Справочном центре YoYo Games</a>.
    </li>
    <li><strong>Windows UWP</strong> - Для <span class="notranslate">Windows UWP</span>, <span data-keyref="GameMaker Name">GameMaker</span> создаст пакет <span class="inline">*.appxbundle</span>, который затем можно загрузить в магазин <span class="notranslate">Windows</span> или распространять в других местах. Когда вы нажмете кнопку Create Executable, вам будет предложено сообщить <span data-keyref="GameMaker Name">GameMaker</span>, какой тип пакета вы хотите создать (может быть для <a class="glossterm" data-glossterm="архитектуры" href="#">архитектур</a> ARM, x64 и/или x86), и выбрать те цели, на которых будет поддерживаться игра (вы должны выбрать хотя бы одну, но можете выбрать все три или любую комбинацию): <br>
      <br>
      <img>Если вы отметите флажок <strong>Package For Store Upload</strong>, то окончательный созданный пакет будет представлять собой файл <span class="inline">*.appxupload</span>, который, согласно спецификации Microsoft, должен использоваться для отправки приложений в их магазин, как объясняется в этой статье <a href="https://docs.microsoft.com/en-us/windows/uwp/publish/upload-app-packages">здесь</a> (все выбранные архитектуры будут включены, как и в случае с <span class="inline">*.appxbundle</span>). Вы можете узнать больше о настройке и компиляции под платформу UWP в <a href="http://help.yoyogames.com/hc/en-us/sections/115000309028">Справочном центре YoYo Games</a>.
    </li>
  </ul>
  <p>После создания пакета исполняемых активов вы можете передать файл другим людям или разместить его на своем сайте для скачивания, или загрузить эти файлы на различные хостинги для индивидуального распространения или даже в интернет-магазины (например, Google Play, Apple App Store или Microsoft Store) для общего распространения и розничной продажи.</p>
  <p>Обратите внимание, что вы можете свободно распространять игры, созданные с помощью <span data-keyref="GameMaker Name">GameMaker</span>, любым способом, включая их продажу. Конечно, это предполагает, что <span class="notranslate">sprites</span>, изображения и звуки, которые вы использовали для создания игры, также могут быть распространены или проданы и что вы обладаете юридическими правами на все активы, а также предполагает, что игра соответствует <a href="https://www.yoyogames.com/legal/eula">EULA YoYo Games для <span data-keyref="GameMaker Name">GameMaker</span></a>.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="Introduction_To_GameMaker_Studio_2.htm">Введение в <span data-keyref="GameMaker Name">GameMaker</span></a></div>
        <div style="float:right">Следующий: <a href="Debugging.htm">Отладка</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
Compiling
Targets
Compiler Targets
VM
Test
YYC
YoYo Compiler
Cache
Cleaning The Cache
Device Editor
Adding Devices
Create Executable
Remote Workers
Target Manager
-->
  <!-- TAGS
compiling
compile_output
compile_platform
compile_device
compile_config
compile_remote
-->
</body>
</html>