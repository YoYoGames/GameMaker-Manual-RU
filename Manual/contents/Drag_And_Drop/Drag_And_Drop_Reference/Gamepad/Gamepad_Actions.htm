<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Действия с геймпадом</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section detailing all the Gamepad actions" />
  <meta name="rh-index-keywords" content="GML Visual Overview - Gamepad Actions Library" />
  <meta name="search-keywords" content="Gamepad Actions" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Библиотека действий геймпада</h1>
  <p><img>В<span data-keyref="GameMaker Name">GameMaker</span> есть ряд специальных действий, которые можно использовать для обнаружения аналоговых и цифровых элементов управления с нескольких подключенных геймпадов. Эти действия требуют указания значения <i>индекса</i> геймпада, который представляет собой число (считая от 0), обозначающее выбранный геймпад. Обратите внимание, что при подключении геймпада к устройству (или его извлечении) срабатывает асинхронное <a href="../../../The_Asset_Editors/Object_Properties/Async_Events.htm">системное событие</a> (однако для решения этой проблемы вам может понадобиться код).</p>
  <p>Слоты для геймпадов индексируются от 0. Слоты с 0 по 3 включительно <i>предназначены только для геймпадов <strong>Xinput</strong></i>, т.е. контроллеров Xbox360 и совместимых с ними. Однако вы также можете проверить слоты с 4 по 11 включительно для геймпадов <strong>DirectInput</strong>, что означает, что вы можете обнаружить множество других моделей контроллеров при подключении через эти слоты.</p>
  <h2>Входные константы</h2>
  <p>При работе с действиями геймпада ввод может осуществляться через <b>оси</b>, <b>кнопки</b> или <b>шляпы</b>, которые <span data-keyref="GameMaker Name">GameMaker</span> присваивает следующим встроенным константам (обратите внимание, что &quot;шляпы&quot; обычно обнаруживаются только на нестандартных контроллерах):</p>
  <table>
    <tbody>
      <tr>
        <th>Постоянная</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td><span class="notranslate">gp_face1</span></td>
        <td>Верхняя кнопка 1 (соответствует кнопке <i>&quot;A&quot;</i> на контроллере Xbox 360 и <i>кресту</i> на контроллере PS)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_face2</span></td>
        <td>Верхняя кнопка 2 (соответствует кнопке <i>&quot;B&quot;</i> на контроллере Xbox 360 и <i>кругу</i> на контроллере PS)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_face3</span></td>
        <td>Верхняя кнопка 3 (соответствует <i>&quot;X&quot;</i> на контроллере Xbox 360 и <i>квадрату</i> на контроллере PS)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_face4</span></td>
        <td>Верхняя кнопка 4 (соответствует букве <i>&quot;Y&quot;</i> на контроллере Xbox 360 и <i>треугольнику</i> на контроллере PS)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_shoulderl</span></td>
        <td>Пуговица на левом плече</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_shoulderlb</span></td>
        <td>Спусковой крючок левого плеча</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_shoulderr</span></td>
        <td>Правая плечевая кнопка</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_shoulderrb</span></td>
        <td>Спусковой крючок правого плеча</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_select</span></td>
        <td>Кнопка выбора (на контроллере DS4 она срабатывает при нажатии сенсорной панели вниз)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_start</span></td>
        <td>Кнопка запуска (это кнопка &quot;опции&quot; на контроллере PS4)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_stickl</span></td>
        <td>Левый стик нажат (как кнопка)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_stickr</span></td>
        <td>Правый стик нажат (как кнопка)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_padu</span></td>
        <td>D-пад вверх</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_padd</span></td>
        <td>D-пад вниз</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_padl</span></td>
        <td>D-pad влево</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_padr</span></td>
        <td>D-pad вправо</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_axislh</span></td>
        <td>Горизонтальная ось левой рукоятки (аналог)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_axislv</span></td>
        <td>Вертикальная ось левой рукоятки (аналог)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_axisrh</span></td>
        <td>Горизонтальная ось правого стика (аналог)</td>
      </tr>
      <tr>
        <td><span class="notranslate">gp_axisrv</span></td>
        <td>Правый стик вертикальной оси (аналог)</td>
      </tr>
    </tbody>
  </table>
  <p>Чтобы лучше понять, какую именно часть контроллера представляет каждая константа, вы можете обратиться к следующему изображению стандартного геймпада Xinput:</p>
  <p><img alt="Gamepad Action Library" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/Lib_GamePad.png" /></p>
  <h2>Действия</h2>
  <p>Ниже перечислены все доступные действия с геймпадом:</p>
  <table class="dnd" style="text-align: left;margin-left:">
    <tbody>
      <tr style="height: 1px;">
        <td class="icons" style="margin-left: 16px;"><img alt="XInput Gamepad Configuration" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/GamePad.png" /></td>
        <td class="dnd" style=""><a href="Get_Gamepad_Axis.htm">Получить ось геймпада</a></td>
      </tr>
      <tr>
        <td class="dnd_icons" style="margin-left: 16px;"><img alt="Gamepad Get Axis Icon" class="icon" height="32" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/i_GamePad_Get_Axis.png" width="32" /></td>
        <td class="dnd" style=""><a href="Get_Gamepad_Trigger.htm">Получить триггер геймпада</a></td>
      </tr>
      <tr>
        <td class="dnd_icons" style="margin-left: 16px;"><img alt="Gamepad Get Trigger Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/i_GamePad_Get_Trigger.png" /></td>
        <td class="dnd" style=""><a href="Get_Gamepad_Count.htm">Получить счетчик геймпада</a></td>
      </tr>
      <tr>
        <td class="dnd_icons" style="margin-left: 16px;"><img alt="Gamepad Get Count Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/i_GamePad_Get_Count.png" /></td>
        <td class="dnd" style=""><a href="Get_Gamepad_Connected.htm">Подключите геймпад</a></td>
      </tr>
      <tr>
        <td class="dnd_icons" style="margin-left: 16px;"><img alt="Gamepad Get Connected Icon" class="icon" height="32" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/i_GamePad_Get_Connected.png" style="cursor: nesw-resize;" width="32" /></td>
        <td class="dnd" style=""><a href="Set_Gamepad_Axis_Deadzone.htm">Установите мертвую зону оси геймпада</a></td>
      </tr>
      <tr>
        <td class="dnd_icons" style="margin-left: 16px;"><img alt="Gamepad Set Axis Deadzone Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/i_GamePad_Set_Axis_Deadzone.png" /></td>
        <td class="dnd" style=""><a href="Set_Gamepad_Button_Threshold.htm">Настройка порога нажатия кнопок геймпада</a></td>
      </tr>
      <tr>
        <td class="dnd_icons" style="margin-left: 16px;"><img alt="Set Gamepad Button Threshold Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/i_GamePad_Set_Button_Threshold.png" /></td>
        <td class="dnd" style=""><a href="If_Gamepad_Button_Pressed.htm">Если нажата кнопка геймпада</a></td>
      </tr>
      <tr>
        <td class="dnd_icons" style="margin-left: 16px;"><img alt="If Gamepad Button Pressed Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/i_GamePad_If_Button_Pressed.png" /></td>
        <td class="dnd" style=""><a href="If_Gamepad_Button_Down.htm">Если кнопка геймпада нажата</a></td>
      </tr>
      <tr>
        <td class="dnd_icons" style="margin-left: 16px;"><img alt="If Gamepad Button Down Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Gamepad/i_GamePad_If_Button_Down.png" /></td>
        <td class="dnd" style=""><a href="If_Gamepad_Button_Released.htm">Если кнопка геймпада отпущена</a></td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <p>В приведенном ниже списке указана текущая совместимость платформ (обратите внимание, что она будет меняться с будущими обновлениями):</p>
  <ul class="colour">
    <li><strong>Windows</strong> полностью поддерживается, при этом одновременно может быть подключено не более 11 устройств. Обратите внимание, что на сайте <span class="notranslate">Windows</span> первые 4 слота для геймпадов (0 - 3) обрабатываются с помощью XInput dll, что означает, что только контроллеры XBox могут быть 100% совместимы, а для других типов контроллеров необходимо проверить остальные слоты для геймпадов (4 - 11).</li>
    <li><strong>macOS </strong>поддерживает не более 4 подключенных устройств одновременно, и эти устройства могут быть ТОЛЬКО типа Playstation3 или Xbox 360. Обратите внимание, что опция &quot;<b>Build for Mac AppStore</b>&quot; в Mac Game Options должна быть ВЫКЛЮЧЕНА, чтобы поддержка планшета работала.</li>
    <li><strong>Ubuntu </strong>также поддерживает ввод с GamePad, но вам может потребоваться установить дополнительные библиотеки из репозитория <span class="notranslate">Ubuntu</span>. Это можно легко сделать, открыв терминал командной строки и набрав следующее, что установит поддержку графического интерфейса для джойстика, а также сам джойстик:</li>
  </ul>
  <p class="code">sudo apt-get install jstest-gtk<br />
    sudo apt-get install joystick.</p>
  <ul class="colour">
    <li>Игры<strong>HTML5 </strong>поддерживают геймпады в большинстве основных браузеров, кроме <i>Safari</i>.</li>
    <li>Поддержка геймпада также распространяется на <strong>iOS </strong>с корпусом <b>iCade</b>. Левая ось соответствует стику контроллера (хотя вход цифровой, а не аналоговый), четыре &quot;лицевые&quot; кнопки соответствуют передним кнопкам корпуса, а четыре плечевые кнопки соответствуют кнопкам на задней панели корпуса.</li>
    <li><strong>Android </strong>export поддерживает контроллеры NYKO и общие Bluetooth-контроллеры, но только если они включены, то есть вам придется отметить опцию iCade/Bluetooth в разделе " <a href="../../../Settings/Game_Options/Android.htm">Общие"</a> в <b>опциях Android Game Options</b>. Для их полноценной работы требуется уровень API 12, и следует отметить, что <span data-keyref="GameMaker Name">GameMaker</span> будет регистрировать как подключенные любые Bluetooth-устройства, с которыми сопряжено ваше устройство, независимо от того, подключено оно на самом деле или нет. Поэтому это следует учитывать при назначении и проверке &quot;слотов&quot;.</li>
    <li>На <strong>PS4</strong>, если вы хотите использовать отслеживание сенсорной панели, вам нужно использовать функции для <a href="../../../GameMaker_Language/GML_Reference/Game_Input/Device_Input/Device_Input.htm"><span class="inline">device_mouse_*</span></a><span> </span>кнопок (для этого не существует визуальных действий <span class="notranslate">GML</span> ).</li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="../DnD_Reference.htm">Указатель</a></div>
        <div style="float:right">Следующее: <a href="../Movement/Movement_Actions.htm">Действия при движении</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
GML Visual Gamepad Actions
Gamepad Actions
-->
  <!-- TAGS
dnd_gamepads
-->
</body>
</html>