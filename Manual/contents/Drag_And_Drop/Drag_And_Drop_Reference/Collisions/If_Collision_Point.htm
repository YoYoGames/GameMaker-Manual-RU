<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Если точка столкновения</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page that explains the If Collision Point action" />
  <meta name="rh-index-keywords" content="GML Visual Action - If Collision Point" />
  <meta name="search-keywords" content="If Collision Point" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><img> Если точка столкновения</h1>
  <p>Это действие используется для проверки наличия столкновения с одним или несколькими экземплярами данного объекта в определенной точке комнаты и оценивается как <span class="inline">true</span>, если столкновение обнаружено, или <span class="inline">false</span> в противном случае. Вы задаете объект
    для проверки и позицию для проверки - которая может быть абсолютной позицией в комнате или позицией относительно экземпляра - и вы также можете установить флаг <b>Not</b>, чтобы проверить, <i>нет</i> ли столкновения в данной позиции, то есть
    что действие будет оценено как <span class="inline">true</span> только в том случае, если столкновений <i>не</i> обнаружено, в противном случае оно будет оценено как <span class="inline">false</span>. Можно также установить опцию <b>Exclude Self</b>, чтобы исключить вызывающий экземпляр из проверки столкновений.</p>
  <p>Далее вы можете установить/отметить опцию <b>Возвращать список</b>. Установка флажка означает, что действие создаст и заполнит <a href="../Data_Structures/Data_Structure_Actions.htm">список</a><span> </span>структурой данных со <i>всеми</i> экземплярами в столкновении
    с точкой и установит переменную <b>Target</b> в идентификатор списка DS. Если флажок не установлен, то переменная <b>Target</b> будет иметь значение меньше 0, только если столкновение не обнаружено, или уникальное значение ID <i>одного</i> из столкнувшихся экземпляров.
    (обратите внимание, что если в столкновении участвуют несколько экземпляров, то у вас нет возможности узнать, какой ID экземпляра будет возвращен, если не используется список).</p>
  <p>Если вы выбрали возврат списка - и переменная Target <i>не</i> установлена в <b>Temp</b> - то вы также можете выбрать опцию <b>Free Target</b>. Если установлено значение <span class="inline">true</span>, то список, содержащийся в переменной target, будет уничтожен и
    новый список будет создан (и возвращен в переменную target) каждый раз, когда вы вызываете действие. Таким образом, вы можете повторно использовать одну и ту же переменную, не беспокоясь об утечке памяти, поскольку, если вы <i>не</i> отметите опцию <b>Free Target</b>, вы становитесь ответственным за то, что
    за уничтожение списка перед повторным использованием переменной в действии. Обратите внимание, что <i>независимо от</i> того, отмечена эта опция или нет, если вы установили действие на <b>Return List</b>, то переменная target <i>всегда будет содержать идентификатор списка</i>,
    и, как таковая, она должна быть освобождена при уничтожении экземпляра или завершении работы комнаты (для этого можно использовать событие <a href="../../../The_Asset_Editors/Object_Properties/Object_Events.htm">Clean Up</a>, например, вместе с действием <a href="../Data_Structures/Free_Data_Structure.htm">Free Data Structure</a><span> </span>).
    Стоит отметить, что вы можете установить опцию <b>Free Target</b> на использование предопределенной переменной или выражения и таким образом контролировать момент освобождения структуры данных списка, устанавливая переменную в другом месте (или используя различные результаты для выражения)
    до тех пор, пока оно оценивается как <span class="inline">true</span>/<span class="inline">false</span>.</p>
  <p>Наконец, вы указываете переменную <b>Target</b>, которая будет содержать возвращаемое значение или ID списка. Если вы отметите переменную Target для хранения возвращаемого значения как <b>Temp</b> (локальную) переменную, то действие создаст эту переменную для хранения возвращаемого значения только до конца события.
    В этом случае опция Free Target ничего не делает, и вы будете ответственны за уничтожение списка DS, если эта опция была отмечена. Если переменная цели не задана, а опция <b>Return List</b> отмечена, список не будет создан.</p>
  <p class="note"><b>ВАЖНО!</b> Столкновения будут регистрироваться только для тех экземпляров, которые имеют действительную маску столкновения, т.е. у них есть <span class="notranslate">sprite</span>, назначенный на <span class="inline">sprite_index</span>, или <span class="notranslate">sprite</span>, назначенный на <span class="inline">mask_index</span>. Если у экземпляров объекта, который проверяется в этом действии, нет маски столкновения, то столкновение будет обнаружено независимо от того, что рисует экземпляр в данный момент.
    не имеют маски столкновения, то столкновение не будет обнаружено, независимо от того, что рисует экземпляр в данный момент.</p>
  <p>Обратите внимание, что для добавления действий в блок &quot;<span class="inline">if</span>&quot;, их следует опустить <i>сбоку от</i> действия, как показано на изображении ниже:</p>
  <p><img alt="If Collision Point Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Collisions/i_Collision_Point.png" /></p>
  <p> </p>
  <h4>Синтаксис действия:</h4>
  <p><img alt="If Collision Point drop actions" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Collisions/If_Collision_Point.png" /></p>
  <h4>Аргументы:</h4>
  <table>
    <tbody>
      <tr>
        <th>Аргумент</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td><span class="notranslate">Shape</span></td>
        <td>Форма для использования</td>
      </tr>
      <tr>
        <td><span class="notranslate">Object</span></td>
        <td>Объект для проверки на наличие экземпляров</td>
      </tr>
      <tr>
        <td><span class="notranslate">x1</span></td>
        <td>Позиция x, с которой нужно начинать</td>
      </tr>
      <tr>
        <td><span class="notranslate">y1</span></td>
        <td>Позиция y, с которой нужно начинать</td>
      </tr>
      <tr>
        <td><span class="notranslate">x2</span></td>
        <td>Позиция x, на которой нужно закончить</td>
      </tr>
      <tr>
        <td><span class="notranslate">y2</span></td>
        <td>Позиция y, на которой нужно закончить</td>
      </tr>
      <tr>
        <td><span class="notranslate">Free Target</span></td>
        <td>Может быть задана переменная или выражение, или установлено значение <span class="inline">true</span>/<span class="inline">false</span> для управления освобождением памяти списка при повторном использовании переменной списка.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Target</span></td>
        <td>Переменная, на которую будет нацелено возвращаемое значение действия</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Пример:</h4>
  <p><img>Приведенный выше код блока действий проверяет наличие столкновения в позиции мыши x/y с экземпляром
    объекта &quot;obj_Enemy&quot;. Если найдено одно (или несколько) столкновений, создается эффект в позиции экземпляра с идентификатором, хранящимся в переменной Target, а затем экземпляр уничтожается. Если столкновение не найдено, создается другой
    эффект создается в позиции мыши.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="Collision_Actions.htm">Действия при столкновении</a></div>
        <div style="float:right">Следующий: <a href="If_Any_Object_At_Place.htm">Если любой объект на месте</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
Action - If Collision Point
-->
  <!-- TAGS
action_if_collision_point
-->
</body>
</html>