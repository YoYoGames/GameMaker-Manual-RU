<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Объявление новой функции</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section detailing Declare A New Function" />
  <meta name="rh-index-keywords" content="GML Visual Action - Declare A New Function" />
  <meta name="search-keywords" content="Declare A New Function" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><img> Объявление новой функции</h1>
  <p>Это действие можно использовать для создания новой определяемой пользователем функции, которая впоследствии может быть вызвана в любое время в вашем коде. Определяемая пользователем функция - это функция, которую вы определяете для выполнения задачи, не охваченной встроенными действиями <span class="notranslate">GML</span> Visual или функциями <span class="notranslate">GML</span> runner, и которая может быть глобальной, экземпляром или локальной по области видимости (более подробную информацию о области видимости см. <a href="../../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">здесь</a> ); они также могут использоваться в качестве <b>конструкторов</b> для создания <a href="../../../GameMaker_Language/GML_Overview/Structs.htm">структур</a>. Чтобы узнать больше об использовании этого действия для создания глобальных функций, обратитесь к разделу <a href="../../Drag_And_Drop_Overview/Action_Block_Functions.htm">Создание функций действия</a>.</p>
  <p>Чтобы использовать это действие, вы можете добавить его в событие или сценарий и дать новой функции имя. Затем вы указываете необходимые аргументы/параметры, которые будет принимать функция, и значения по умолчанию для любых необязательных аргументов.</p>
  <p>Если функция будет использоваться в качестве конструктора (который используется для создания структуры), то необходимо отметить опцию <strong>Constructor </strong>, а затем использовать действие <a href="New.htm">New</a> для создания структуры из функции. Вы также можете отметить функцию как <b>статическую</b>, что означает, что она будет определена только один раз, независимо от того, сколько раз будет выполняться это действие. Наконец, если функция будет использоваться только локально в одном событии и больше нигде, то можно включить опцию <strong>Temp </strong>.</p>
  <p>После того как вы определили имя и параметры, вы можете прикрепить действия, которые вы хотите, чтобы функция выполнялась при вызове в вашем коде, поместив их сбоку от действия, как показано на рисунке ниже:</p>
  <p><img>Примеры использования этого действия в качестве обычной функции и функции-конструктора можно посмотреть в разделе &quot;Расширенные примеры&quot;, приведенном ниже.</p>
  <p> </p>
  <h4>Синтаксис действия:</h4>
  <p><img alt="Declare A New Function Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/i_Common_Declare_Function.png" /></p>
  <h4>Аргументы:</h4>
  <table>
    <tbody>
      <tr>
        <th>Аргумент</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td><span class="notranslate">Name</span></td>
        <td>Имя новой функции.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Argument [+]</span></td>
        <td>Различные аргументы, которые могут быть переданы в функцию, и их значения по умолчанию, если они необязательны.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Constructor</span></td>
        <td>Является ли эта функция конструктором.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Static</span></td>
        <td>Является ли эта функция статической.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Temp</span></td>
        <td>Является ли функция временной (это означает, что она используется только в рамках текущего события).</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h1>Расширенные примеры</h1>
  <h4>Расширенный пример 1</h4>
  <p><img>Приведенный выше блок действий находится в <b>событии Create</b> экземпляра или сценария и объявляет новую функцию <span class="inline">set_vec</span> с тремя аргументами: <span class="inline">_x</span>, <span class="inline">_y</span> и <span class="inline">spd</span>. Эти аргументы затем используются в действиях, которые содержит функция, для установки направления и скорости движения экземпляра, что происходит при вызове функции. В дальнейшем вы будете вызывать функцию с помощью действия <a href="Function_Call.htm">Function Call</a> в любых последующих событиях, например, так:</p>
  <p><img>На изображении выше вызывается функция <span class="inline">set_vec</span>, которая изменяет направление движения экземпляра на направленное в сторону позиции X/Y мыши и устанавливает скорость на 5.</p>
  <p> </p>
  <h4 id="h">Расширенный пример 2</h4>
  <p><img>Приведенный выше блок действий будет находиться в <b>событии Create</b> экземпляра или сценария и объявляет новую <strong>функцию-конструктор</strong> <span class="inline">init_char_struct</span> с четырьмя аргументами: <span class="inline">_name</span>, <span class="inline">_location</span>, <span class="inline">_hp</span> и <span class="inline">_mana</span>, причем последние два являются необязательными и имеют значение по умолчанию 100 (это означает, что если эти аргументы не указаны при вызове функции, то вместо них будут использоваться их значения по умолчанию). Эти аргументы затем используются для создания некоторых переменных в структуре, которую создает функция.</p>
  <p>Позже вы вызовете эту функцию с помощью действия <a href="New.htm">New</a> для создания структуры, как показано ниже:</p>
  <p><img>Функция вызывается и возвращает новый struct, который хранится в массиве <span class="inline">char</span>, а struct будет заполнен переменными <span class="inline">name</span>, <span class="inline">location</span>, <span class="inline">hp</span> и <span class="inline">mana</span>, установленными в значения, которые были переданы в соответствующих аргументах при вызове функции.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="Common_Actions_Library.htm">Общие действия</a></div>
        <div style="float:right">Следующий: <a href="Assign_Variable.htm">Присвоение переменной</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
Action - Declare A New Function
-->
  <!-- TAGS
action_declare_function
-->
</body>
</html>