<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Параметры командной строки</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css" />
  <script src="../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page that explains how to use Command Line Parameters when running your game" />
  <meta name="rh-index-keywords" content="Command Line Parameters" />
  <meta name="search-keywords" content="command line,AB testing,command line parameters" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Параметры командной строки</h1>
  <p>При создании игр важно протестировать исполняемый файл, чтобы убедиться, что окончательная компиляция корректна и не содержит непредвиденных ошибок или различий. Однако создание исполняемого файла означает, что, поскольку у вас нет доступа ни к консоли отладки, ни к окну компилятора, может быть трудно определить и отладить любые проблемы, которые вы можете найти. Однако для этого есть решение - использовать <strong>параметры командной строки</strong> для установки определенных свойств при запуске исполняемой версии игры, что, в свою очередь, позволяет создавать выходные журналы и тестировать другие специальные ситуации.</p>
  <p class="note"><span class="note"><strong>ПРИМЕЧАНИЕ</strong></span> Это доступно <strong>только</strong> для стандартного целевого модуля <strong>Windows </strong>.</p>
  <p>Чтобы это заработало, сначала необходимо создать исполняемый файл игры <span class="notranslate">Windows</span> и установить его на тестовой машине. После этого необходимо создать <em>ярлык </em>игры на рабочем столе. Именно здесь мы будем добавлять параметры, которые будут передаваться на <span class="inline">*.exe</span> (чтобы создать ярлык, щелкните правой кнопкой мыши <img> на исполняемом файле игры и выберите <em>Отправить на</em> &gt; <em>Рабочий стол (создать ярлык)</em>).</p>
  <p>После создания ярлыка вы можете использовать любой из следующих параметров в целевом пути:</p>
  <p style="padding-top: 0.5em;padding-right: 1em;padding-bottom: 0.5em;padding-left: 3em"><span class="inline">-noaudio</span>: Это отключает все звуки в вашей игре.</p>
  <p style="padding-top: 0.5em;padding-right: 1em;padding-bottom: 0.5em;padding-left: 3em"><span class="inline">-inawindow</span>: Заставляет игру запускаться в окне, даже если она запущена в полноэкранном режиме.</p>
  <p style="padding-top: 0.5em;padding-right: 1em;padding-bottom: 0.5em;padding-left: 3em"><span class="inline">-output &lt;<em>filename</em>&gt;</span>: Отправляет вывод консоли на имя файла, включая любые отладочные сообщения, которые есть в вашей кодовой базе.</p>
  <p style="padding-top: 0.5em;padding-right: 1em;padding-bottom: 0.5em;padding-left: 3em"><span class="inline">-debugoutput &lt;<em>filename</em>&gt;</span>: Отправляет консольный вывод в указанный файл, исключая любые пользовательские отладочные сообщения, но включая дополнительную информацию из бегущей строки для сообщения об ошибке.</p>
  <p style="padding-top: 0.5em;padding-right: 1em;padding-bottom: 0.5em;padding-left: 3em"><span class="inline">-software</span>: Заставляет игру использовать программную обработку вершин вместо аппаратной для рендеринга игровой графики. Это особенно полезно для тех ПК, которые используют встроенный чипсет Intel GFX или демонстрируют проблемы с отображением на старых машинах.</p>
  <p style="padding-top: 0.5em;padding-right: 1em;padding-bottom: 0.5em;padding-left: 3em"><span class="inline">-intel</span>: Это включит исправление для плохих драйверов Intel, независимо от того, какой GPU используется. Это решение для плохих драйверов замедлит работу, что даст заметное снижение производительности вашей игры, поэтому если вам не нужно исправление, не используйте его.</p>
  <p style="padding-top: 0.5em;padding-right: 1em;padding-bottom: 0.5em;padding-left: 3em"><span class="inline">-vanillaGFX</span>: Использование этого параметра отключает любую проверку производителя драйвера и может быть очень полезно для тестирования вашей игры &quot;как есть&quot;.</p>
  <p>Стоит отметить, что <span class="inline">&lt;<em>filename</em>&gt;</span> в <span class="inline">-output</span> и <span class="inline">-debugoutput</span> при желании может быть одним и тем же, так как файл открывается и закрывается при каждой записи.</p>
  <p>Теперь вы должны перейти к тому месту, где вы создали ярлык исполняемого файла игры, а затем щелкнуть на нем правой кнопкой мыши и выбрать пункт "Свойства".</p>
  <p><img>Откроется окно, аналогичное приведенному выше. Здесь вы можете добавить в <strong>Target</strong> path вашу командную строку. Просто прокрутите до конца заданного пути, добавьте пробел, а затем строку параметров. Так, например, для создания вывода файла отладки вы можете сделать следующее:</p>
  <p class="code">D:\Users\Me\GameMaker\CustomLoadBar-Default-1.0.0.0\CustomLoadBar.exe -debugoutput debug.txt</p>
  <p>В результате будет создан файл под названием &quot;<span class="inline">debug.txt</span>&quot; в том же месте, что и исполняемый файл (не в месте расположения ярлыка, а там, где установлена игра) с информацией об отладке и компиляторе вашей готовой игры. Нажмите на &quot;OK&quot;, а затем используйте ярлык для запуска игры, чтобы она использовала эти параметры и помогла в отладке.</p>
  <p>Более подробную информацию о том, как отладить вашу игру, вы найдете в разделе руководства " <a href="../Introduction/Debugging.htm">Отладка</a>".</p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#">А/Б тестирование с помощью командной строки</a></p>
  <div class="droptext" data-targetname="drop-down">
    <p class="dropspot">Бегущая строка <span class="notranslate">YoYo</span> также имеет специальный параметр командной строки:</p>
    <p class="dropspot" style="padding-top: 0.5em;padding-right: 1em;padding-bottom: 0.5em;padding-left: 5em"><span class="inline">-game &lt;<em>filename</em>&gt;</span>: загружает заданный файл игры
      <br>
    </p>
    <p class="dropspot">Зачем вам это нужно? Обычно вы этого не делаете, но если вы хотите иметь более одной версии вашей игры одновременно, это можно сделать с помощью этого метода, что значительно упрощает сравнительные тесты A/B. С помощью этого метода вы можете провести фокус-тестирование с кем-то другим или, как дизайнер, получить лучшее представление о вещах, проводя тесты бок о бок.</p>
    <p class="dropspot">Чтобы настроить его, необходимо знать несколько вещей. Для начала вам понадобится путь к самому Runner. Его можно найти в папке <strong>Program Data</strong> вашей ОС <span class="notranslate">Windows</span> (по умолчанию она может быть скрыта, поэтому вам придется изменить свойства просмотра, чтобы увидеть ее), а типичный формат выглядит следующим образом:
      <br>
      <br>
    </p>
    <p class="code">C:\ProgramData\GameMaker\Cache\runtimes\&lt;runtime_version&gt;\windows\Runner.exe
      <br />
    </p>
    <p class="dropspot">Обратите внимание, что папка runtime_version будет зависеть от установленных у вас в данный момент времен выполнения. Вам также понадобится путь к файлу <span class="inline">&lt;<em>yourgame</em>&gt;.win</span>, поскольку именно на него мы будем указывать бегунку. Самый простой способ найти этот путь - зайти в папку <strong>Temp </strong>(обычно она находится по адресу <span class="inline">%localappdata%\Temp\GameMakerStudio\&lt;game_name&gt;\</span>) и просто найти <span class="inline">*.win</span>, так как это покажет вам все доступные файлы, и вы сможете просто выбрать тот, к которому вам нужно получить полный путь.</p>
    <p class="dropspot">Теперь мы могли бы создать ярлык для бегущей строки, как мы это сделали для исполняемого файла, а затем изменять параметры по мере необходимости, но это означает необходимость открывать и редактировать ее между тестами, что сводит на нет цель использования этой функциональности для тестирования бок о бок. Вместо этого мы создадим пару маленьких &quot;пакетных&quot; файлов, чтобы справиться с этой задачей.</p>
    <p class="dropspot">Для этого сначала создайте новый текстовый документ на рабочем столе и откройте его в Блокноте (или любом другом текстовом редакторе). Добавьте следующее:
      <br>
      <br>
    </p>
    <p class="code">START C:\ProgramData\GameMaker\Cache\runtimes\&lt;runtime_version&gt;\windows\Runner.exe -game &lt;LOCAL TEMP PATH&gt;\&lt;GAMENAME&gt;.win
      <br />
    </p>
    <p class="dropspot">Вам нужно установить временный путь к файлу игры <span class="inline">*.win</span>, а затем сохранить его как &quot;<span class="inline">GM_Test_1.bat</span>&quot; на рабочем столе (имейте в виду, что Блокнот автоматически сохранит файл <span class="inline">*.txt</span>, если вы не выберете &quot;все файлы&quot; в опциях диалога сохранения). Пример того, как должна выглядеть ваша конечная команда:
      <br>
    </p>
    <p class="code">START C:\ProgramData\GameMaker\Cache\runtimes\runtime-9.9.1.199\windows\Runner.exe -game D:\Users\Mark\AppData\Local\Temp\GameMaker\AlphaDog_Reboot\AlphaDog_Reboot.win
      <br />
    </p>
    <p class="dropspot">Теперь создайте другой текстовый файл и добавьте ту же строку, только на этот раз укажите путь ко второй версии игры, с которой вы хотите провести тестирование бок о бок, и сохраните его как &quot;<span class="inline">GM_Test_2.bat</span>&quot;. Вы можете дважды щелкнуть по любому из этих файлов <img>, чтобы открыть различные версии вашей игры, а наличие этих файлов в виде пакетных файлов означает, что вы можете легко открыть их снова, чтобы отредактировать их и изменить тестируемую игру.</p>
    <p class="dropspot">
      <br />
    </p>
    <p class="dropspot"></p>
  </div>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a data-xref="{title}" href="Runner_Details/Runner_Details.htm">Бегун и компилятор</a></div>
        <div style="float:right">Следующий: <a href="YoYo_Compiler.htm">YoYo Compiler</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
Command Line Pararmeters
A/B Testing
-->
  <!-- TAGS
command_line_params
-->
</body>
</html>