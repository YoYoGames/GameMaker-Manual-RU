<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>сортировка массивов</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining the function array_sort" />
  <meta name="rh-index-keywords" content="array_sort" />
  <meta name="search-keywords" content="array_sort" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span>сортировка массивов</span></h1>
  <p>С помощью этой функции вы можете отсортировать массив по возрастанию или по убыванию, а также используя пользовательскую функцию для определения порядка сортировки. Функция требует, чтобы вы указали массив для сортировки, а затем одно из следующих действий:</p>
  <ul class="colour">
    <li>Константы <span class="inline">true</span> или <span class="inline">false</span> для указания <span>возрастающего (<span class="inline">true</span>) или убывающего (<span class="inline">false</span>) порядка сортировки</span>.</li>
    <li>Пользовательская функция для определения порядка сортировки</li>
  </ul>
  <p>Эта функция изменит содержимое исходного массива, который был предоставлен. Чтобы создать отсортированную копию, используйте <span class="inline"><a href="array_copy.htm">array_copy()</a></span> для дублирования массива, а затем передайте его в эту функцию.</p>
  <h3>Использование пользовательской функции</h3>
  <p>Если вы используете пользовательскую функцию для сортировки, она должна принимать 2 аргумента, которые будут получать значения текущего элемента и следующего элемента соответственно. Функция должна возвращать любое из следующих значений, чтобы повлиять на порядок сортировки (где <span class="inline">elm1</span> - текущий элемент, а <span class="inline">elm2</span> - следующий элемент):</p>
  <ul class="colour">
    <li><span class="inline">0</span>: если <span class="inline">elm1</span> и <span class="inline">elm2</span> равны</li>
    <li><span class="inline">&lt;= -1</span> (отрицательное целое число): если <span class="inline">elm1</span> идет раньше, чем <span class="inline">elm2</span></li>
    <li><span class="inline">&gt;= 1</span> (целое положительное число): если <span class="inline">elm1</span> идет после <span class="inline">elm2</span></li>
  </ul>
  <p class="note"><span class="note">ПРИМЕЧАНИЕ</span> Значение, возвращаемое вашей пользовательской функцией, должно быть целым числом. Значения с плавающей точкой меньше 1 будут считаны как 0, поэтому вы должны использовать <a href="../Maths_And_Numbers/Number_Functions/sign.htm"><span class="inline">sign()</span></a> или <a href="../Maths_And_Numbers/Number_Functions/round.htm"><span class="inline">round()</span></a> если ваша функция работает со значениями с плавающей точкой.</p>
  <p>Если массив содержит набор строк, то строки будут отсортированы в алфавитном порядке на основе английского алфавита при использовании стандартного типа сортировки по возрастанию/убыванию. Все остальные типы данных будут отсортированы на основе их числовых значений, точные значения которых зависят от самого типа данных (например, массив буферов будет отсортирован на основе числовых значений их адресов памяти).</p>
  <p> </p>
  <h4>Синтаксис:</h4>
  <p class="code">array_sort(variable, sorttype_or_function);</p>
  <table>
    <tbody>
      <tr>
        <th>Аргумент</th>
        <th>Тип</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td><span class="notranslate">variable</span></td>
        <td><span data-keyref="Type_Array"><a href="../../../../GameMaker_Language/GML_Overview/Arrays.htm" target="_blank">Массив</a></span></td>
        <td><span class="notranslate">The variable that holds the array.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate"><span>sorttype_or_function<span> </span></td>
        <td><span data-keyref="Type_Bool"><a href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Булево</a></span> или <span data-keyref="Type_Function_Script"><a href="../../../../GameMaker_Language/GML_Overview/Script_Functions.htm" target="_blank">Скриптовая функция</a></span>/<span data-keyref="Type_Method"><a href="../../../../GameMaker_Language/GML_Overview/Method_Variables.htm" target="_blank">Метод</a></span></td>
        <td><span class="notranslate">The sort type (<span><span class="inline">true</span> для возрастания или <span class="inline">false</span> для убывания) или ссылку на функцию, которую следует использовать для сортировки.</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Возвращается:</h4>
  <p class="code"><span data-keyref="Type_Void">N/A</span></p>
  <p> </p>
  <h4>Пример:</h4>
  <p class="code">var _a = [10, 9, 8, 7, 6, 5];<br />
    <br />
    array_sort(_a, function(elm1, elm2)<br />
    {<br />
        return elm1 - elm2;<br />
    });
  </p>
  <p>Приведенный выше код использует пользовательскую функцию сортировки для сортировки массива в порядке возрастания. Функция сортировки берет два элемента массива <span class="inline">elm1</span> и <span class="inline">elm2</span> и выполняет вычитание. Если <span class="inline">elm1</span> больше, чем <span class="inline">elm2</span>, то в результате вычитания получается положительное число, которое переводит <span class="inline">elm1</span> на место после <span class="inline">elm2</span>, тем самым располагая их в порядке возрастания.</p>
  <p>Вот расширенный пример:</p>
  <p class="code">var _xx, _yy, _a;<br />
    <br />
    for (var i = 0; i &lt; 10; i++)<br />
    {<br />
        _xx = irandom(room_width);<br />
        _yy = irandom(room_height);<br />
        _a[i] = instance_create_layer(_xx, _yy, layer, obj_Bullet);<br />
    }<br />
    <br />
    show_debug_message(_a);<br />
    <br />
    var _f = function(inst1, inst2)<br />
    {<br />
        return inst1.x - inst2.x;<br />
    }<br />
    <br />
    array_sort(_a, _f);<br />
    show_debug_message(_a);
  </p>
  <p>Приведенный выше код создаст массив из 10 экземпляров, расположенных в случайных местах в комнате. Отладочное сообщение покажет что-то вроде следующего:</p>
  <p class="code">[ 100003,100004,100005,100006,100007,100008,100009,100010,100011,100012 ]</p>
  <p>Затем код создает метод для использования в функции <span class="inline">array_sort()</span>, который возвращает разницу между каждым из положений X экземпляров в комнате. Затем функция <span class="inline">array_sort()</span> запускается с использованием этого метода, сортируя экземпляры по X от наименьшего к наибольшему. Выходные данные для массива будут выглядеть следующим образом:</p>
  <p class="code">[ 100011,100004,100009,100006,100012,100008,100010,100005,100007,100003 ]</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="Variable_Functions.htm">Переменные функции</a></div>
        <div style="float:right">Следующий: <a href="array_length.htm"><span class="notranslate">array_length</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
array_sort
-->
  <!-- TAGS
array_sort
-->
</body>
</html>