<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>audio_play_sound_at</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining the function audio_play_sound_at" />
  <meta name="rh-index-keywords" content="audio_play_sound_at" />
  <meta name="search-keywords" content="audio_play_sound_at" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">audio_play_sound_at</span></h1>
  <p>С помощью этой функции вы можете воспроизвести любой звуковой ресурс в заданной позиции в аудиопространстве. Вы указываете индекс звука, а затем назначаете ему позицию в трехмерном пространстве. Позиция слушателя по умолчанию равна <span data-keyref="Position_Origin">(0, 0, 0)</span>, это означает, что если слушатель не был перемещен и вы хотите, чтобы звук шел слева (например), вы должны установить позицию x на отрицательное значение (для получения дополнительной информации о настройке позиции слушателя см. <a href="Audio_Listeners/audio_listener_position.htm"><span class="inline">audio_listener_position()</span></a>).</p>
  <p>Вы также можете задать расстояние падения (0 - звук будет тихим, по умолчанию 100), которое заставит звук затухать по мере удаления от места слушателя. То, как будет слышно само затухание, зависит от эталона спада (это расстояние, на котором громкость источника обычно уменьшается вдвое) и коэффициента спада (он влияет на звук только после эталона спада). Коэффициент по умолчанию обычно равен 1, а эффект от различных значений коэффициента спада зависит от выбранной модели (полное руководство по различным моделям коэффициента спада и использованию этих значений см. в функции <a href="audio_falloff_set_model.htm"><span class="inline">audio_falloff_set_model()</span></a>).</p>
  <p>Следующие два аргумента служат для установки того, должен ли звук зацикливаться или нет, и для присвоения приоритета звуку. Этот приоритет затем используется для определения того, как звуки будут обработаны, когда количество воспроизводимых звуков превысит предел, установленный функцией <a href="audio_channel_num.htm"><span class="inline">audio_channel_num()</span></a>. Звуки с более низким приоритетом будут остановлены в пользу звуков с более высоким приоритетом, а значение приоритета может быть любым действительным числом (фактическое значение произвольно и может быть от 0 до 1 или от 0 до 100, поскольку <span data-keyref="GameMaker Name">GameMaker</span> будет определять их приоритет одинаково). Обратите внимание, что при работе с приоритетами, чем <i>выше</i> число, тем <i>выше</i> приоритет, так что звук с приоритетом 100 будет предпочтительнее звука с приоритетом 1.</p>
  <div data-conref="../../../../assets/snippets/audio_play_sound_last_arguments.hts"> </div>
  <p>Эта функция возвращает уникальный индексный номер воспроизводимого звука, который затем можно сохранить в переменной, чтобы затем поставить его на паузу или остановить с помощью соответствующих функций. Это означает, что если у вас есть несколько экземпляров одного и того же звука, воспроизводимого в любой момент времени, вы можете выбрать только один экземпляр этого звука для работы с ним с помощью функций аудио.</p>
  <p> </p>
  <h4>Синтаксис:</h4>
  <p class="code"><span data-field="title" data-format="default">audio_play_sound_at</span>(index, x, y, z, falloff_ref, falloff_max, falloff_factor, loop, priority, [gain], [offset], [pitch], [listener_mask]);</p>
  <table>
    <tbody>
      <tr>
        <th>Аргумент</th>
        <th>Тип</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td><span class="notranslate">index</span></td>
        <td><span data-keyref="Type_Asset_Sound"><a href="../../../../../The_Asset_Editors/Sounds.htm" target="_blank">Звуковой актив</a></span></td>
        <td><span class="notranslate">The index of the sound to play.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">x</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate">The x position.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">y</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate">The y position.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">z</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate">The z position.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">falloff_ref</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate">The falloff reference relative to the listener (clamp).</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">falloff_max</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate">The maximum falloff distance relative to the listener.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">falloff_factor</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate">The falloff factor (default 1).</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">loop</span></td>
        <td><span data-keyref="Type_Bool"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Булево</a></span></td>
        <td><span class="notranslate">Flags the sound as looping or not.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">priority</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate">Set the channel priority for the sound.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">gain</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> Ценность выигрыша.</td>
      </tr>
      <tr>
        <td><span class="notranslate">offset</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> Время (в секундах), на которое нужно установить начальную точку. Значения, превышающие длину заданного звука, игнорируются.</td>
      </tr>
      <tr>
        <td><span class="notranslate">pitch</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> Множитель шага (по умолчанию 1).</td>
      </tr>
      <tr>
        <td><span class="notranslate">listener_mask</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Реально</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> Данные битовой маски, которые нужно установить для звука. Для цели HTML5 это не будет иметь никакого эффекта, поскольку цель не поддерживает более одного слушателя.</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Возвращается:</h4>
  <p class="code"><span data-keyref="Type_ID_Sound_Instance"><a href="../../../../../GameMaker_Language/GML_Reference/Asset_Management/Audio/audio_play_sound.htm" target="_blank">Sound Instance ID</a></span></p>
  <p> </p>
  <h4>Пример 1:</h4>
  <p class="code">if global.SFX<br />
    {<br />
        <span data-field="title" data-format="default">audio_play_sound_at</span>(snd_Waterfall, x, y, 0, 100, 300, 1, true, 1);<br />
    }</p>
  <p>Приведенный выше код проверяет глобальную переменную &quot;SFX&quot;, и если она возвращает значение <span class="inline">true</span>, то звук, индексированный в переменной &quot;snd_Waterfall&quot;, будет зациклен в позиции комнаты, с эталоном падения 100, расстоянием падения 300, коэффициентом падения 1 и низким приоритетом.</p>
  <h4>Пример 2:</h4>
  <p class="code">if global.SFX<br />
    {<br />
        <span data-field="title" data-format="default">audio_play_sound_at</span>(snd_Waterfall, x, y, 0, 100, 300, 1, true, 1, 1, 2);<br />
    }</p>
  <p>Приведенный выше код проверяет глобальную переменную &quot;SFX&quot;, и если она возвращает значение <span class="inline">true</span>, то звук, индексированный в переменной &quot;snd_Waterfall&quot;, будет зациклен в позиции комнаты с использованием заданных настроек падения и без изменения усиления. Звук немедленно начнет воспроизводиться со второй секунды 2.</p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="Audio.htm">Аудио</a></div>
        <div style="float:right">Следующий: <a href="audio_pause_sound.htm"><span class="notranslate">audio_pause_sound</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
audio_play_sound_at
-->
  <!-- TAGS
audio_play_sound_at
-->
</body>
</html>