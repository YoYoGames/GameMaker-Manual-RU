<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>sprite_collision_mask</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining the function sprite_collision_mask" />
  <meta name="rh-index-keywords" content="sprite_collision_mask" />
  <meta name="search-keywords" content="sprite_collision_mask" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>sprite_collision_mask</h1>
  <p>С помощью этой функции можно задать свойства маски столкновений, которую должен иметь <span class="notranslate">sprite</span>. Если вы выбрали автоматический режим (0) или режим полного изображения (1) в качестве режима ограничительной рамки, то значения отдельных ограничительных рамок могут быть установлены на 0. Однако для маски, заданной пользователем (2), вам придется установить эти значения. Различные значения ограничивающих рамок всегда относятся к левому верхнему углу <span class="notranslate">sprite</span> (независимо от координат x и y), который считается позицией (0, 0).</p>
  <p>Установка типа маски задает общую форму самой маски, но имейте в виду, что любая маска, отличная от прямоугольной, потребует больше вычислительной мощности при разрешении столкновений, что приведет к падению производительности. В общем, использовать типы масок, отличные от прямоугольной, следует только в случае крайней необходимости.</p>
  <p class="note"><b>ПРИМЕЧАНИЕ</b>: Эта функция не позволяет использовать вид маски столкновения с <b>повернутым прямоугольником</b>.</p>
  <p>Тип маски, которую можно установить, будет одной из следующих констант:</p>
  <table>
    <colgroup>
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th colspan="2"><span data-keyref="Type_Constant_Bbox_Kind"><a data-rhwidget="HyperlinkPopover" href="../../../../../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_collision_mask.htm">Вид (форма) ограничительной рамки Константа</a></span></th>
      </tr>
      <tr>
        <th>Постоянная</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">bboxkind_rectangular</span></td>
        <td>Прямоугольная (не вращающаяся) форма маски столкновения с прямоугольником</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">bboxkind_ellipse</span></td>
        <td>Эллиптическая форма маски столкновений</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">bboxkind_diamond</span></td>
        <td>Форма маски столкновения с алмазом</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">bboxkind_precise</span></td>
        <td>Точная маска столкновений, где маска будет соответствовать непрозрачным пикселям <span class="notranslate">sprite</span>, на основе заданного значения допуска (см. ниже)).</td>
      </tr>
      <tr>
        <td><span class="inline">bboxkind_spine</span></td>
        <td>Apart from rectangle, this is the only valid option for Spine sprites. It enables more precise collision checking against the mesh in the sprite.</td>
      </tr>
    </tbody>
  </table>
  <p><br>
    Наконец, допуск используется для определения степени точности маски (при использовании маски &quot;полное изображение&quot; это не будет иметь никакого эффекта). Допуск 0 означает, что маска будет следовать за каждым пикселем, прозрачность которого больше 0, в то время как другие значения будут смещать периметр маски столкновений в зависимости от прозрачности пикселей.</p>
  <p class="note"><b>ПРИМЕЧАНИЕ</b>: Эта функция полезна только для <b>растровых изображений</b> <span class="notranslate">sprites</span> и не работает с SWF или JSON (<span class="notranslate">Spine</span>) <span class="notranslate">sprites</span>.</p>
  <p class="note"><b>ПРИМЕЧАНИЕ</b>: Эта функция будет работать только на добавленных <span class="notranslate">sprites</span> или дублированных <span class="notranslate">sprites</span>, но <b>не</b> непосредственно на предварительно созданных ресурсах. Вы можете продублировать <span class="notranslate">sprites</span> с помощью функции <span style="font-size:1px;"><a href="sprite_duplicate.htm"><span class="inline">sprite_duplicate()</span></a></span>.</p>
  <p> </p>
  <h4>Синтаксис:</h4>
  <p class="code">sprite_collision_mask(ind, sepmasks, bboxmode, bbleft, bbtop, bbright, bbbottom, kind, tolerance);</p>
  <table>
    <tbody>
      <tr>
        <th>Аргумент</th>
        <th>Тип</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td><span class="notranslate">ind</span></td>
        <td><span data-keyref="Type_Asset_Sprite"><a data-rhwidget="HyperlinkPopover" href="../../../../../../The_Asset_Editors/Sprites.htm">Актив спрайта</a></span></td>
        <td><span class="notranslate">The index of the sprite to set the bounding box of.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">sepmasks</span></td>
        <td><span data-keyref="Type_Bool"><a data-rhwidget="HyperlinkPopover" href="../../../../../../GameMaker_Language/GML_Overview/Data_Types.htm">Булево</a></span></td>
        <td><span class="notranslate">Whether to create collision masks for each sub-image of the sprite (<span class="inline">true</span>), или одна маска для всех (<span class="inline">false</span>).</td>
      </tr>
      <tr>
        <td><span class="notranslate">bboxmode</span></td>
        <td><span data-keyref="Type_Real"><a data-rhwidget="HyperlinkPopover" href="../../../../../../LINKGOESHERE">Реально</a></span></td>
        <td><span class="notranslate">What kind of bounding box to use. 0 = automatic, 1 = full image, 2 = user defined.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">bbleft</span></td>
        <td><span data-keyref="Type_Real"><a data-rhwidget="HyperlinkPopover" href="../../../../../../LINKGOESHERE">Реально</a></span></td>
        <td><span class="notranslate">The maximum left position of the bounding box.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">bbtop</span></td>
        <td><span data-keyref="Type_Real"><a data-rhwidget="HyperlinkPopover" href="../../../../../../LINKGOESHERE">Реально</a></span></td>
        <td><span class="notranslate">The maximum top position of the bounding box.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">bbright</span></td>
        <td><span data-keyref="Type_Real"><a data-rhwidget="HyperlinkPopover" href="../../../../../../LINKGOESHERE">Реально</a></span></td>
        <td><span class="notranslate">The maximum right position of the bounding box.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">bbbottom</span></td>
        <td><span data-keyref="Type_Real"><a data-rhwidget="HyperlinkPopover" href="../../../../../../LINKGOESHERE">Реально</a></span></td>
        <td><span class="notranslate">The maximum bottom position of the bounding box.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">kind</span></td>
        <td><span data-keyref="Type_Constant_Bbox_Kind"><a data-rhwidget="HyperlinkPopover" href="../../../../../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_collision_mask.htm">Вид (форма) ограничительной рамки Константа</a></span></td>
        <td><span class="notranslate">The kind of mask, a constant (see the table in the description).</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">tolerance</span></td>
        <td><span data-keyref="Type_Real"><a data-rhwidget="HyperlinkPopover" href="../../../../../../LINKGOESHERE">Реально</a></span></td>
        <td><span class="notranslate">Indicates the tolerance in the transparency value (0=no tolerance, 255=full tolerance).</span></td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Возвращает</h4>
  <p class="code"><span data-keyref="Type_Void"><a data-rhwidget="HyperlinkPopover" href="../../../../../../LINKGOESHERE">N/A</a></span></p>
  <p> </p>
  <h4>Пример:</h4>
  <p class="code">spr = sprite_add(&quot;player_5.png&quot;, 16, true, true, 0, 0);<br />
    sprite_collision_mask(spr, true, 1, 0, 0, 0, 0, 0, 0);</p>
  <p>Приведенный выше код загружает <span class="notranslate">sprite</span> из внешнего источника и сохраняет новый индекс в переменной &quot;spr&quot;. Затем код устанавливает новый <span class="notranslate">sprite</span> так, чтобы он имел точную маску столкновений для каждого из своих суб-изображений.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="Sprite_Manipulation.htm">Манипуляция спрайтом</a></div>
        <div style="float:right">Далее: <a href="sprite_nineslice_create.htm">sprite_nineslice_create</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
sprite_collision_mask
bboxkind_precise
bboxkind_diamond
bboxkind_ellipse
bboxkind_rectangular
bboxkind_spine
-->
  <!-- TAGS
sprite_collision_mask
-->
</body>
</html>