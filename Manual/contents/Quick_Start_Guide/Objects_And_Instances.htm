<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Объекты и экземпляры</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css" />
  <script src="../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Overview of what objects and instances are and the role they play in making a game." />
  <meta name="rh-index-keywords" content="Quick Start - Objects And Instances" />
  <meta name="search-keywords" content="objects,instances" />
  <meta name="robots" content="NOODP" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Объекты и экземпляры</h1>
  <p>С помощью активов, которые вы уже видели, вы можете добавить несколько красивых изображений и звуков в браузер игровых активов, но они еще ничего не делают в самой игре! Для этого нам нужен самый важный актив в <span data-keyref="GameMaker Name">GameMaker</span>- актив <strong>объекта </strong>. Объекты - это особый актив, который мы используем для управления аспектами игры и для выполнения определенных действий. Чаще всего они связаны с <span class="notranslate">sprite</span>, чтобы вы могли видеть их в игровых комнатах, но иногда они используются как &quot;закулисные&quot; объекты <strong>контроллера </strong>, чтобы делать такие вещи, как отслеживание статистики, установка тайминга для cut-scenes и т.д. ... Объектам можно придать поведение, они могут реагировать на определенные события и друг на друга, и большинство вещей, которые вы видите в игре, основаны на объектах и их взаимодействии с пользователем и друг с другом.</p>
  <p>Мы не можем говорить об объектах, не говоря об <strong>экземплярах</strong>. В игре, созданной с помощью <span data-keyref="GameMaker Name">GameMaker</span>, персонажи, монстры, шары, стены и т.д., которые вы видите в игре, фактически все считаются <strong>экземплярами</strong>. Экземпляр - это, по сути, &quot;копия&quot; объекта, которая находится в браузере активов и затем помещается в комнату (считайте, что объекты - это <strong>шаблоны </strong>для экземпляров). Поэтому, когда мы говорим о том, что что-то влияет на экземпляр или изменяет его, мы имеем в виду, что одна конкретная копия объекта в комнате подвергается воздействию, а все остальные - нет, но когда мы говорим о влиянии на объект или его изменении, мы имеем в виду, что все, что мы делаем с ним, будет отражено во всех экземплярах, созданных с этого момента. Итак, <strong>объект - это шаблон для экземпляра, а экземпляр - это то, что мы размещаем в комнате, чтобы создать нашу игру</strong>.</p>
  <p>Чтобы создать новый актив-объект, нужно просто щелкнуть правой кнопкой мыши <img> на папке активов Objects и выбрать <em>Create</em> (или щелкнуть правой кнопкой мыши в любом месте <a href="../Introduction/The_Asset_Browser.htm">браузера активов</a> и выбрать <em>Create Object</em>).</p>
  <p><img alt="Icon RMB" class="icon" src="../assets/Images/Icons/Icon_RMB.png" /></p>
  <p>Это окно <a href="../The_Asset_Editors/Objects.htm">редактора объектов</a>, в котором отображаются текущие свойства объекта, и первое, что вы должны сделать, это назвать объект, опять же используя префикс типа &quot; <span class="inline">obj_</span>&quot; или какой-либо другой идентификатор. Вообще, чтобы объект мог рисовать что-либо и регистрировать столкновения с экземплярами других объектов, ему должен быть присвоен адрес <span class="notranslate">sprite</span>, который добавляется с помощью кнопки <img>. Откроется <strong>проводник активов</strong>, где вы можете выбрать <span class="notranslate">sprite</span> для использования (вы также можете перетащить <span class="notranslate">sprites</span> из проводника активов и бросить их в редактор объектов, чтобы назначить их):</p>
  <p><img alt="The Object Editor" class="center" src="../assets/Images/QS_Guide/QS_ObjectEditor.png" /></p>
  <p>Если у вас еще нет подходящего <span class="notranslate">sprite</span>, вы можете нажать <img> на кнопку <em>New Sprite</em> <img>, чтобы создать новый актив <span class="notranslate">sprite</span> и отредактировать его по своему усмотрению, точно так же, как если бы вы создали актив с помощью стандартных опций создания <span class="notranslate">sprite</span>, только теперь он будет автоматически назначен объекту, который был открыт, когда вы начали его создавать. После выбора <span class="notranslate">sprite</span> вы также можете нажать <img> на кнопки <em>Edit Sprite</em> <img> или <em>Edit Image</em> <img>, чтобы отредактировать изображения самого <span class="notranslate">sprite</span> или актива <span class="notranslate">sprite</span>. Это может быть быстрее, чем сначала найти <span class="notranslate">sprite</span> в браузере активов, а затем указать, что вы хотите его отредактировать.</p>
  <p>После добавления или создания <span class="notranslate">sprite</span> вы можете изменить некоторые другие свойства объекта, например, сделать его <strong>видимым </strong>или нет, или какую <strong>маску столкновений</strong> он должен иметь. Для простых игр вам, вероятно, не нужно ничего менять, и теперь вы можете перейти к добавлению <strong>событий </strong>к объекту.</p>
  <p>События - это незаметные моменты в игровом цикле, когда события происходят в соответствии с тем, что вы для них запрограммировали. <span data-keyref="GameMaker Name">GameMaker</span> работает с циклами этих событий - с момента начала работы над комнатой до момента ее завершения происходит игровой цикл, в котором на каждом шаге запускается серия событий, и вы можете разместить в своих экземплярах <span class="notranslate">GML</span> код или <span class="notranslate">GML</span> Visual действия, которые реагируют на эти события ( <strong>шаг </strong>- это момент игрового времени, регулируемый настройками скорости игры - также называемый &quot;кадром&quot;).</p>
  <p>Чтобы добавить событие, нажмите <img> на кнопку Добавить событие:</p>
  <p><img alt="Add Sprite Icon " class="icon" height="24" src="../assets/Images/Icons/Icon_AddSound.png" width="31" /></p>
  <p>Выше вы можете видеть все различные <strong>категории событий</strong>, некоторые из которых содержат другие подкатегории. Мы не будем рассматривать здесь все события, но вкратце расскажем о пяти наиболее важных из них:</p>
  <table class="icons">
    <tbody>
      <tr>
        <td class="icons"><img alt="The Asset Explorer" class="center" src="../assets/Images/QS_Guide/QS_AssetExplorer.png" /></td>
        <td class="icons"><strong>Создать событие</strong></td>
        <td class="text">Это событие происходит при первом создании экземпляра объекта и является самым первым, что происходит в экземпляре, который был помещен в комнату через редактор комнат при входе в комнату. Это означает, что данное событие является идеальным местом для инициализации переменных, запуска временных линий, установки путей и т.д... и всего остального, что обычно нужно сделать только один раз или только когда экземпляр впервые появляется в комнате.</td>
      </tr>
      <tr>
        <td class="icons"><img alt="LMB Icon" class="icon" src="../assets/Images/Icons/Icon_LMB.png" /></td>
        <td class="icons"><strong>Шаговое мероприятие</strong></td>
        <td class="text"><span data-keyref="GameMaker Name">GameMaker</span> делит игровое время на шаги, а скорость игры определяет, сколько таких шагов должно быть в секунду. Шаг, по сути, представляет собой цикл, который постоянно выполняется со всеми событиями, проверяемыми и запускаемыми по мере необходимости во время игры, поэтому, как вы можете себе представить, событие Step Event - это событие, которое проверяется на каждом шаге игры, пока существует экземпляр. Обратите внимание, что категория Step Event имеет три подкатегории для &quot;тонкой настройки&quot; времени внутри экземпляра, но в целом вы будете чаще всего использовать главное событие Step Event.</td>
      </tr>
      <tr>
        <td class="icons"><img alt="New Sprite Icon" class="icon" src="../assets/Images/Icons/Icon_NewSprite.png" /></td>
        <td class="icons"><strong>Событие столкновения</strong></td>
        <td class="text">Очевидно, что при создании игры очень важно знать, когда два (или более) экземпляра объекта столкнулись, и для этого у нас есть событие столкновения. Это событие, которое вы помещаете в объект и затем указываете, какой другой объект вы должны проверить на столкновения. После добавления события и выбора объекта для проверки вы можете добавить код <span class="notranslate">GML</span> или <span class="notranslate">GML</span> Visual для разрешения столкновения.</td>
      </tr>
      <tr>
        <td class="icons"><img alt="LMB Icon" class="icon" src="../assets/Images/Icons/Icon_LMB.png" /></td>
        <td class="icons"><strong>Ничейное событие</strong></td>
        <td class="text">Существует несколько различных событий рисования в категории событий рисования, но чаще всего используется то, которое находится вверху и называется просто &quot;Draw&quot;. Это общее событие рисования будет вызываться, как и событие шага, каждый игровой кадр, но оно работает двумя разными способами. Первый - это когда вы не добавляете это событие к объекту... Если <em>указанное </em>событие Draw Event отсутствует, то <span data-keyref="GameMaker Name">GameMaker</span> по умолчанию будет рисовать <span class="notranslate">sprite</span>, назначенный объекту, используя любые преобразования, которые были применены в других местах объекта (например, для изменения размера или альфа-смешивания), так что даже если в списке событий не указано событие Draw Event, оно все равно выполняется и будет рисовать на экране, когда экземпляр будет помещен в комнату. Второй способ работает, когда вы добавляете само событие и включаете в него любой <span class="notranslate">GML</span> или <span class="notranslate">GML</span> Visual. Добавление чего-либо в событие говорит <span data-keyref="GameMaker Name">GameMaker</span>: &quot; <em>Я хочу управлять тем, что вы рисуете для экземпляров этого объекта</em>&quot;, и это полностью отменяет рисование по умолчанию. Это означает, что вы можете иметь объект с назначенным <span class="notranslate">sprite</span>, затем установить событие draw на рисование текста, и <span class="notranslate">sprite</span> не будет нарисован, поскольку вы не сказали <span data-keyref="GameMaker Name">GameMaker</span> нарисовать его, хотя текст будет нарисован.</td>
      </tr>
      <tr>
        <td class="icons"><img alt="Edit Sprite Icon" class="icon" src="../assets/Images/Icons/Icon_EditSprite.png" /></td>
        <td class="icons"><strong>Уничтожить событие</strong></td>
        <td class="text">Это событие является самым последним событием, которое выполняется при уничтожении экземпляра. Его часто упускают из виду при добавлении поведения к объектам, но оно может быть очень полезным - например, для создания эффектов взрыва или частиц при убийстве врага, или для повторного рождения нового экземпляра объекта в другой части комнаты, или даже для добавления очков к счету.</td>
      </tr>
    </tbody>
  </table>
  <p>
    <!--</div>-->For further information on all the different events, please see <a href="../The_Asset_Editors/Object_Properties/Object_Events.htm">here</a>.
  </p>
  <p>Более подробную информацию о различных мероприятиях можно найти <a href="../The_Asset_Editors/Object_Properties/Object_Events.htm">здесь</a>.</p>
  <p>Затем можно нажать на событие в списке, чтобы добавить его к объекту.</p>
  <div data-conref="../assets/snippets/Visual_Code_Choice.hts"> </div>
  <p>При добавлении события откроется редактор <span data-keyref="GML_Code">GML Code</span> или <span data-keyref="GML_Visual">GML Visual</span>, в зависимости от типа создаваемого события. В этом окне вы можете добавить код или действия, которые вы хотите выполнять каждый раз, когда это событие срабатывает в игровом цикле.</p>
  <p><img alt="Edit Image Icon" class="icon" src="../assets/Images/Icons/Icon_EditImage.png" /></p>
  <p>Более подробную информацию об использовании <span class="notranslate">GML</span> в событиях объектов вы можете найти на двух страницах, приведенных ниже:</p>
  <ul class="colour">
    <li><a data-xref="{title}" href="../Drag_And_Drop/Drag_And_Drop_Index.htm">GML Visual</a></li>
    <li><a data-xref="{title}" href="../GameMaker_Language/GameMaker_Language_Index.htm">Код GML</a></li>
  </ul>
  <p>Полное объяснение всех различных частей редактора объектов можно найти здесь:</p>
  <ul class="colour">
    <li><a href="../The_Asset_Editors/Objects.htm">Редакторы: Редактор объектов</a></li>
  </ul>
  <p>В следующей части этого руководства мы рассмотрим еще один тип ресурсов - <strong>последовательности</strong>...</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="../Content.htm">Указатель</a></div>
        <div style="float:right">Следующий: <a href="Sequences.htm">Последовательности</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
Objects And Instances
Quick Start: Objects and Instances
-->
  <!-- TAGS
qs_objects_instances
-->
</body>
</html>