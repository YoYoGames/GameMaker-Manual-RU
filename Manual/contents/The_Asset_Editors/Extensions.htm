<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Расширения</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css" />
  <script src="../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing how the extension editor works" />
  <meta name="rh-index-keywords" content="Extension Editor" />
  <meta name="search-keywords" content="extensions,extension editor" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Редактор расширений</h1>
  <p> <strong>Пакет расширения</strong> можно использовать для добавления ряда дополнительных функций и <a class="glossterm" data-glossterm="постоянная" href="#">констант</a> в <span class="notranslate">GameMaker Language</span> (<span class="notranslate">GML</span>) и легкого переноса их между проектами. Функции расширения также могут быть связаны с внешними <a class="glossterm" data-glossterm="SDK" href="#">SDK</a> или <a class="glossterm" data-glossterm="исходный код" href="#">исходным кодом</a>, написанным на других языках (например, Java для <span class="notranslate">Android</span>, Objective-C для <span class="notranslate">iOS</span>, и т.д.), которые могут быть использованы для расширения функциональности вашей игры (обычно используются для реализации API сторонних разработчиков, например, для рекламы, покупок внутри приложения и т.д.).</p>
  <p><img alt="Extensions Properties" class="center" src="../assets/Images/Asset_Editors/Editor_Extensions.png" /></p>
  <p>Расширения можно использовать для создания библиотеки функций, которые вы часто используете во всех своих проектах, поэтому вместо того, чтобы импортировать одни и те же скрипты в каждый проект, вы можете просто добавить один актив расширения, содержащий коллекцию ваших любимых функций и констант. Такие функции также могут быть специфичны для определенной платформы, и вы можете легко выбрать, на каких платформах можно использовать расширение.</p>
  <p>Пошаговый пример создания расширения см. в разделе: <a href="Extension_Creation/Creating_An_Extension.htm">Создание расширения</a></p>
  <p>Чтобы отключить расширения в зависимости от целевой платформы, см: <a data-xref="{title}" href="Extension_Creation/Disabling_Extensions.htm">Как отключить расширения?</a></p>
  <h2>Импорт расширений</h2>
  <p>Обычно расширения сторонних производителей поставляются из <a href="https://marketplace.yoyogames.com/">GameMaker Marketplace</a>, и те, на которые вы подписались, будут перечислены в окне <a href="../Introduction/The_Marketplace.htm">Marketplace Library</a>, откуда их можно установить. Если вы не получили пакет расширения с сайта <span class="notranslate">Marketplace</span>, вы все равно можете добавить его в проект, щелкнув правой кнопкой мыши <img> в любом месте <a href="../Introduction/The_Asset_Browser.htm">браузера ассетов</a> и выбрав пункт <em>Add Existing</em>, а затем перейдя к местоположению расширения, чтобы выбрать его.</p>
  <p class="note"><span class="note">ПРИМЕЧАНИЕ</span> Если у вас есть пакет <span class="inline">.yymps</span>/<span class="inline">.yymp</span>/<span class="inline">.gmez</span>, вы можете перетащить его в <span class="notranslate">IDE</span>, чтобы импортировать его, или зайдите в меню &quot;Инструменты&quot; и выберите &quot;Импорт локального пакета&quot;.</p>
  <h2>Целевые платформы</h2>
  <p>После добавления расширения в Asset Browser необходимо дать ему имя и номер версии, а также указать, на какие платформы вы хотите его экспортировать. Сняв флажок с выбранных платформ, вы можете указать <span data-keyref="GameMaker Name">GameMaker</span> не экспортировать расширение как часть исполняемого файла для этих платформ. Также необходимо убедиться, что свойства расширения соответствуют выбранной целевой платформе (платформам), и выбрать совместимые цели экспорта для файлов расширения, основываясь на следующем:</p>
  <ul class="colour">
    <li class="dropspot"><strong>Все цели</strong>: расширения <span class="notranslate">GML</span>. Это расширения, созданные с использованием <span class="notranslate">GameMaker Language</span> (<span class="notranslate">GML</span>) и совместимые со всеми целевыми платформами. (<em></em><em>Обратите внимание, что это единственный тип расширений, который в настоящее время поддерживает цель Opera GX.</em>)</li>
    <li class="dropspot"><strong>Windows (Standard, UWP, Xbox)</strong>: Вы можете использовать файлы <span class="notranslate">Windows</span> <span class="inline">DLL</span> (Dynamic Link Libraries). Обратите внимание, что если вы отметили опцию &quot;Use x64 <span class="notranslate">Windows</span> Runtime&quot; в <a href="../Settings/Game_Options/Windows.htm">опциях игры Windows</a>, то все DLL для проекта <strong>должны быть 64-битной совместимости</strong>. 32-битные DLL не будут работать с 64-битным исполняемым файлом.</li>
    <li class="dropspot"><strong>macOS</strong>: Цель <span class="notranslate">macOS</span> может использовать стандартные файлы <span class="inline">DyLib</span> для расширений.</li>
    <li class="dropspot"><strong>Ubuntu (<span class="notranslate">Linux</span>)</strong>: Для цели <span class="notranslate">Ubuntu</span> вам необходимо убедиться, что ваше расширение использует файлы <span class="inline">.so</span>.</li>
    <li class="dropspot"><strong>HTML5</strong>: Эти платформы могут использовать расширения <span class="inline">JavaScript</span>.</li>
    <li class="dropspot"><strong>Android</strong>: Эта платформа требует, чтобы расширение было написано на <span class="inline">Java</span> или <span class="inline">Android Framework SDK</span>.</li>
    <li class="dropspot"><strong>iOS</strong> / <strong> tvOS</strong>: Расширения для этой платформы написаны на Objective C и требуют наличия файла <span class="inline">*.mm</span> и <span class="inline">*.h</span>, или, если используются какие-либо фреймворки, предварительно скомпилированного нативного файла <span class="inline">*.a</span>.</li>
    <li class="dropspot"><strong>PlayStation</strong>: Для PlayStation ваши расширения должны быть файлами <span class="inline">PRX</span>, причем для каждой цели требуется свой <span class="inline">PRX</span>, чтобы соответствовать спецификациям цели (PS3, PS4 или PS5). Если вы работаете над PSVita, расширение должно быть <span class="inline">SUPRX</span>.</li>
  </ul>
  <p class="note"><span class="note">ПРИМЕЧАНИЕ</span> Некоторые расширения должны следовать определенным соглашениям об именовании для <span class="notranslate">GameMaker</span>, чтобы правильно определить платформу и архитектуру процессора, для которых они предназначены. Дополнительную информацию см. в разделе <a data-xref="{text}" href="Extension_Creation/Creating_An_Extension.htm#h">Соглашения об именовании</a>.</p>
  <p>Поскольку расширение может иметь различные связанные файлы, можно создать одно расширение для нескольких платформ, в этом случае необходимо указать <em>все </em>совместимые платформы в главном редакторе расширений (т.е.: установить флажок рядом с ними), а затем в свойствах отдельных файлов для каждой части расширения установить платформу, на которую эти файлы должны быть экспортированы.</p>
  <p>Чтобы изменить целевую платформу для определенного файла расширения или заполнителя, необходимо сначала открыть свойства расширения (дважды щелкните <img> расширение в браузере активов), а затем, находясь в свойствах расширения, выберите справа файл ресурса, который вы хотите изменить. В открывшемся окне можно выбрать платформы, на которые экспортируется этот конкретный файл:</p>
  <p class="dropspot"><img alt="RMB Icon" class="icon" src="../assets/Images/Icons/Icon_RMB.png" /></p>
  <h2>Варианты расширения</h2>
  <p>Используемое вами расширение может иметь опции, которые будут отображаться в нижней части окна редактора расширений:</p>
  <p><img>Они будут отличаться в зависимости от расширения, и не все из них могут иметь опции. Информацию о возможностях расширения можно найти в документации к используемому расширению.</p>
  <p>Чтобы настроить параметры для собственного расширения, см: <a data-xref="{text}" href="Extension_Creation/Creating_An_Extension.htm#h1">Создание опций расширения</a></p>
  <h2>Распаковка при сборке</h2>
  <p>Опцию &quot;Uncompress on build&quot; можно использовать для сжатых архивных файлов, предназначенных для определенной целевой платформы. Если эта опция включена, содержимое архива будет извлечено в каталог Included Files собранного пакета, но только после копирования на целевую платформу.</p>
  <p>Например, если вы включите эту функцию для файла <span class="inline">.zip</span> в вашем расширении, а затем запустите сборку <strong>macOS </strong>с <span class="notranslate">Windows</span>, то архив <span class="inline">.zip</span> будет скопирован как есть с <span class="notranslate">Windows</span> на <span class="notranslate">macOS</span> и затем будет распакован во время компиляции на целевой платформе (которой в данном контексте является <span class="notranslate">macOS</span>).</p>
  <h2>Вызов функций расширения</h2>
  <p>После установки расширения вы можете использовать функции и константы для него так же, как и встроенные функции и константы, используемые в <span class="notranslate">GameMaker Language</span>. Если ваша игра является кроссплатформенной (например, она предназначена для запуска на платформах Windows и <span class="notranslate">Android</span> ), то вам следует использовать <a href="../GameMaker_Language/GML_Reference/OS_And_Compiler/OS_And_Compiler.htm">константы и функции ОС</a> для проверки текущей платформы перед вызовом функций, специфичных для расширения, чтобы, например, избежать проблем:</p>
  <p class="code">switch(os_type)<br />
    {<br />
        case os_android:<br />
            call_android_extension_function(x, y, z);<br />
        break;<br />
    <br />
        case os_windows:<br />
            call_windows_extension_function(x, y, z);<br />
        break;<br />
    }
  </p>
  <p>Обратите внимание, что для разных платформ ваши расширения могут использовать общие имена функций, поэтому если у вас есть расширение с разными файлами для (например) всплывающего сообщения на <span class="notranslate">Windows</span> и для <span class="notranslate">Android</span>, оба файла расширения могут использовать одни и те же имена функций, если они оба настроены на экспорт только на соответствующие платформы.</p>
  <p>Если вы хотите создать свои собственные расширения, то основную необходимую информацию вы найдете на следующих страницах:</p>
  <ul class="colour">
    <li><a href="Extension_Creation/Creating_An_Extension.htm">Создание расширения</a></li>
    <li><a href="Extension_Creation/Android_Extensions.htm">Расширения для Android</a></li>
    <li><a href="Extension_Creation/iOS_Extensions.htm">Расширения для iOS / <span class="notranslate">tvOS</span> </a></li>
    <li><a data-xref="{title}" href="Extension_Creation/Extended_Examples.htm">Примеры источников</a></li>
  </ul>
  <p> </p>
  <h1>Официальные расширения сторонних производителей</h1>
  <p>В старых версиях <span class="notranslate">GameMaker</span> было много встроенных функций сторонних разработчиков, но это было неэффективно и трудно поддерживать, так как если какая-то конкретная функциональность изменялась сторонним разработчиком, то приходилось обновлять всю <span class="notranslate">GameMaker</span> <a class="glossterm" data-glossterm="IDE" href="#">IDE</a> и <a class="glossterm" data-glossterm="Время выполнения" href="#">Runtime</a>. Поэтому в текущих версиях было принято использовать пакеты расширений для добавления сторонней поддержки в ваши игры. Это означает, что вы можете добавлять только те дополнительные функции, которые вам необходимы, и даже адаптировать и редактировать их в соответствии с вашими конкретными потребностями.</p>
  <p>Большинство из этих расширений будут загружены и установлены для вас при выборе определенных <a href="../Settings/Game_Options.htm">опций игры</a> (например, Facebook или Google Mobile Ads), но вы можете найти дополнительную информацию о них в соответствующем разделе для каждой платформы в базе знаний GameMaker:</p>
  <ul class="colour">
    <li><a href="https://help.yoyogames.com/hc/en-us/categories/204246668-GameMaker">Платформы и установка<span data-keyref="GameMaker Name">GameMaker</span> </a></li>
  </ul>
  <p>Сами расширения можно найти на следующей странице <span class="notranslate">Marketplace</span>:</p>
  <ul class="colour">
    <li><a href="https://marketplace.yoyogames.com/publishers/23/yoyo-games">Официальный сайт <span class="notranslate">Marketplace</span> Активы</a></li>
  </ul>
  <p>Обратите внимание, что эти расширения поставляются с демо-версией и файлом справки (в формате <span class="inline">*.pdf</span> ), в которых объясняется, как их использовать, и поэтому их функции не рассматриваются в данном руководстве.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="The_Asset_Editors.htm">Редакторы активов</a></div>
        <div style="float:right">Следующий: <a href="Fonts.htm">Шрифты</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
Extensions
Extension Editor
Android Extensions
iOS Extensions
-->
  <!-- TAGS
extension_editor
-->
</body>
</html>