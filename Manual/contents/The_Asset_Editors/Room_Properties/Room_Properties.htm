<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Свойства помещения</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing the different room properties" />
  <meta name="rh-index-keywords" content="Rooms - Room Settings" />
  <meta name="search-keywords" content="room settings,cameras,viewports,room size,room properties,view cameras" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Свойства помещения</h1>
  <p><img>В разделе "Свойства комнаты" можно установить переключатель наследования для настроек, изменить такие параметры, как постоянство, размер комнаты и управление видовыми экранами.</p>
  <h2>Постоянный</h2>
  <p>Обычно, когда вы выходите из комнаты и возвращаетесь в ту же комнату позже, эта комната возвращается к своим первоначальным настройкам. Обычно это подходит для большинства игр, но это может быть не то, что вам нужно, например, в ролевой игре или любой нелинейной игре, где вы хотите приходить и уходить из одной комнаты в другую, и чтобы они были такими, какими вы их оставили в последний раз. Установив флажок <strong>Persistent </strong>, вы сделаете именно это. Состояние комнаты будет запомнено, и когда вы вернетесь в нее позже, она будет точно такой же, какой вы ее оставили, только при перезапуске игры она будет возвращена в начальное состояние. Обратите внимание, что здесь есть <em>одно </em>исключение - если вы пометили определенные объекты как постоянные, экземпляры этих объектов <em>не </em>останутся в комнате, а переместятся в следующую комнату.</p>
  <h2 id="clear_display_buffer">Очистить буфер дисплея</h2>
  <p>После этого у вас есть возможность <strong>очистить буфер дисплея</strong>. Эта опция, если она отмечена, предварительно заполняет <a class="glossterm" data-glossterm="буфер дисплея" href="#">буфер дисплея</a> цветом, прежде чем рисовать что-либо еще для данного кадра. Если вы знаете, что ваши виды будут постоянно занимать весь экран или что у вас будет рисоваться полноэкранный непрозрачный фон, то вы можете снять эту опцию, что сэкономит перерисовку и поможет оптимизировать вашу игру.</p>
  <p>Однако если у вас есть несколько видов, которые при отображении на экране оставляют открытые пространства, или ваш фон имеет прозрачные части - вы можете проверить это, чтобы все пустые области были заполнены цветом рисования по вашему выбору. В настоящее время этот цвет можно задать только в коде, используя <a href="../../GameMaker_Language/GML_Reference/Cameras_And_Display/The_Game_Window/window_set_colour.htm"><span class="inline">window_set_colour()</span></a>.</p>
  <p class="note"><span class="note">ПРИМЕЧАНИЕ</span> Если вы используете автоматическую коррекцию соотношения сторон (как установлено в <a href="../../Settings/Game_Options.htm">Опциях игры</a>), то этот флажок <strong>всегда </strong>должен быть установлен, иначе вы можете получить странные эффекты в &quot;буквенном поле&quot;, в котором рисуется ваша игра. Если вы не используете эту опцию, вы можете снять флажок и получить небольшой прирост производительности вашей игры (особенно заметный на <span class="notranslate">Android</span> и других мобильных платформах).</p>
  <h2>Ширина, высота и другие параметры</h2>
  <p>Комната должна иметь размер, и он определяется значениями, которые вы вводите для ее ширины и высоты в пикселях.</p>
  <p>Затем вы можете добавить <strong>код создания</strong>, если он вам необходим. Код создания добавляется с помощью кнопки внизу (вместе с переключателем наследования, чтобы указать, должна ли комната наследовать код создания или нет), и если вы нажмете на нее, то откроется редактор кода или визуальный редактор. Этот редактор позволяет ввести функции/действия и код, которые будут выполняться в <em>начале </em>комнаты, после события создания всех экземпляров, но до события начала комнаты (более подробную информацию о порядке событий см. <a href="../Object_Properties/Event_Order.htm">здесь</a>). Этот код будет выполняться каждый раз, когда вы входите в комнату, если только комната не помечена как постоянная, в этом случае он будет выполняться только один раз при первом входе в комнату, но не при последующих посещениях комнаты.</p>
  <h2 id="creation_order">Порядок создания экземпляра</h2>
  <p>Последняя кнопка в Свойствах комнаты позволяет открыть окно <strong>Порядок создания экземпляра</strong>:</p>
  <p><img>В этом окне перечислены все экземпляры в комнате в том порядке, в котором они будут созданы (сверху вниз). Если вам нужно, чтобы определенный экземпляр был создан раньше других, вы можете просто щелкнуть <img> и перетащить его в нужное вам положение. Обратите внимание, что экземпляры будут созданы в порядке, указанном сверху вниз в списке.</p>
  <div data-conref="../../assets/snippets/Instance_creation_order_warning.hts"> </div>
  <p> </p>
  <p> </p>
  <h1>Камеры и видовые экраны</h1>
  <p>Следующий набор свойств комнаты, которые вы можете определить, - это свойства, относящиеся к <strong>камере</strong> и <strong>видовым экранам</strong> комнаты. Виды камеры дают возможность рисовать различные части комнаты в разных местах экрана или рисовать только часть комнаты, чтобы охватить весь экран. Например, в большинстве платформенных игр вид камеры следует за главным героем, так как, если бы на экране был виден весь уровень, персонаж был бы слишком мал для обзора и не было бы сюрпризов для игрока. Вид камеры также может быть использован в многопользовательских или кооперативных играх, поскольку он позволяет создать разделенный экран, когда в одной части экрана вы видите одного игрока, а в другой - другого. Все это можно легко реализовать в <span data-keyref="GameMaker Name">GameMaker</span> с помощью видов камеры.</p>
  <p><img>В верхней части свойств вида вы можете включить или выключить наследование вида, затем есть поле с надписью <strong>Enable Viewports</strong>. Это поле <em>должно быть отмечено</em>, прежде чем любой из видов камеры можно будет использовать в вашей игре.</p>
  <p class="note"><span class="note">ПРИМЕЧАНИЕ</span> Вы можете включить или выключить наследование для трех основных параметров видового экрана, а затем включить или выключить наследование для каждого отдельного вида камеры.</p>
  <p>Следующий флажок - это флажок <strong>Clear Viewport Background</strong>, который аналогичен опции <a href="#clear_display_buffer">Clear Display Buffer</a>, приведенной выше, но специально для видовых экранов. Если флажок включен, он очищает <a class="glossterm" data-glossterm="поверхность нанесения" href="#">поверхность приложения</a> от цвета окна перед отрисовкой каждого кадра. Это гарантирует, что вы не увидите нежелательную графику через прозрачные области фона, такие как содержимое предыдущих кадров; поэтому важно включить эту опцию (вместе с &quot;<strong>Enable Viewports&quot;</strong>), если ваш фон содержит прозрачность.</p>
  <p>Вид камеры определяется двумя различными наборами значений: самим видом камеры и портом на экране, где этот вид должен быть нарисован. Иногда это может вызвать путаницу, поэтому давайте немного поясним это, прежде чем объяснять, как мы определяем каждое из них:</p>
  <ul class="colour">
    <li><strong>Камера</strong>: Точка в помещении, которая будет использоваться для настройки отображения помещения на экране (это абстрактная точка в редакторе помещения, ее положение устанавливается автоматически на основе настроек вида и порта просмотра).</li>
    <li><strong>Вид</strong>: То, что видит камера, на основе положения, проекции и вращения камеры.</li>
    <li><strong>Порт просмотра</strong>: область физического экрана, где будет отображаться вид камеры.</li>
  </ul>
  <p><img>Так, например, это означает, что вы можете иметь вид камеры 640x480 на комнату, а затем установить порт на 320x240, что приведет к отображению изображения на экране в масштабе, соответствующем размеру порта, а также вы можете сделать то же самое и установить вид на меньшее значение, а порт на большее, в результате чего изображение будет масштабироваться в соответствии с размером порта и отображаться на экране больше, чем оно есть. Таким образом, вы можете поддерживать размер экрана (порта), изменяя вид камеры для отображения большей или меньшей части комнаты в той же области экрана.</p>
  <p>Вид камеры всегда определяется как прямоугольная область в комнате, где вы указываете положение левого верхнего угла, ширину и высоту этой области. Затем вы должны указать, где эта область будет отображаться в окне на экране, определив порт вида, где вы снова указываете положение левого верхнего угла и размер (обратите внимание, что любое значение, отличное от 0,0 для левого верхнего угла, может дать странные результаты). Вы можете иметь более одного порта, и они могут перекрываться, в этом случае они рисуются в указанном порядке один поверх другого.</p>
  <p>Следует понимать, что общая площадь экрана <em>всегда определяется как прямоугольная область</em>, поэтому ваши порты, даже если они смещены, образуют прямоугольник, а пустые места заполняются цветом окна <a class="glossterm" data-glossterm="буфер дисплея" href="#">буфера дисплея</a>. Это означает, что в таких обстоятельствах вы всегда должны устанавливать флажок <strong>Clear Display Buffer</strong>, иначе вы получите странные артефакты, нарисованные в промежутках между портами. Изображение ниже иллюстрирует это, где видны два смещенных порта просмотра, но они образуют квадратное окно, а &quot;под ними&quot; рисуются линии, ведущие к буферу дисплея:</p>
  <p><img>Камеры также имеют опцию " <strong>Следование за объектом </strong>". Это нужно для того, чтобы камера &quot;следовала&quot; (т.е. фокусировала взгляд на определенном объекте). Для этого нужно нажать <img> на значке меню и выбрать объект из появившегося списка (если в комнате несколько экземпляров этого объекта, камера будет следить только за одним из них).</p>
  <p>Нормальным поведением камеры является движение только тогда, когда объект, за которым она следует, приближается к &quot;буферной&quot; зоне, которая образует невидимую границу по краю обзора. Эта зона может быть определена вами с помощью значений <strong>Horizontal Border </strong>и <strong>Vertical Border </strong>, поэтому, например, установка этих значений на 64 означает, что вид не начнет двигаться и следовать за персонажем, пока он не достигнет 64 пикселей от края вида.</p>
  <p>Наконец, вы можете указать <strong>горизонтальную</strong> и <strong>вертикальную скорость </strong>, с которой камера перемещается, когда персонаж достиг буферной зоны, и это значение по умолчанию равно -1. Это значение по умолчанию, по сути, является &quot;мгновенным&quot; и означает, что в тот момент, когда объект следования окажется за пределами горизонтальной границы или вертикальной границы буферной зоны, вид перейдет в текущее положение. Это не всегда то, что вам нужно, поэтому вы можете задать скорость вертикальной и горизонтальной прокрутки камеры, установив значения, отличные от -1. Обратите внимание, что при значении 0 вид не будет двигаться вообще, а любое другое положительное значение - это количество пикселей, на которое он будет перемещаться в любом кадре, поэтому при установке горизонтальной скорости в 5 вид будет следовать за объектом со скоростью 5 пикселей в кадре по горизонтали.</p>
  <p> </p>
  <p> </p>
  <h1>Физика помещений</h1>
  <p>Прежде чем вы сможете использовать встроенные функции физики в своих играх, вы должны сообщить <span data-keyref="GameMaker Name">GameMaker</span>, что комната является комнатой с физикой. Для этого необходимо отметить опцию <strong>Включить физику </strong>в верхней части раздела <em>Физика комнаты</em> (вы также можете переключить наследование этого раздела независимо от остальных настроек комнаты). После этого вы можете продолжить настройку свойств мира физики, которые представляют собой некоторые основные свойства, которые должны быть предварительно определены, прежде чем ваша комната позволит экземплярам физики работать как таковым. Для более точного контроля над миром можно использовать код (см. раздел " <a href="../../GameMaker_Language/GML_Reference/Physics/Physics.htm">Функции физики</a> " для получения дополнительной информации).</p>
  <p><img>Следующее, что вы должны сделать, это установить <strong>гравитацию </strong>мира. Сила и направление гравитации рассчитывается как <a class="glossterm" data-glossterm="вектор" href="#">вектор</a> положения x/y, который вы устанавливаете вокруг точки (0, 0). Так, если x равно 0, а y равно 1, то направление гравитации будет направлено <em>вниз </em>с силой 1 метр в секунду (более подробное объяснение см. в разделе " <a href="../../GameMaker_Language/GML_Reference/Physics/The_Physics_World/The_Physics_World.htm">Мир физики</a>").</p>
  <p>Наконец, вы должны установить соотношение<strong> пикселей к метрам</strong>, чтобы <span data-keyref="GameMaker Name">GameMaker</span> использовал его в качестве базы для всех своих физических расчетов. Это связано с тем, что функции физики работают с реальными измерениями, поэтому мы должны установить это значение, и вы захотите отрегулировать его до тех пор, пока средний размер пикселей используемых вами объектов не станет примерно равен симулируемым физическим объектам соответствующего размера.</p>
  <p>Следует отметить, что включение физики в комнате означает, что все экземпляры в комнате <em>должны использовать функции и переменные физики для перемещения</em>. В принципе, у вас есть &quot;традиционное&quot; перемещение, где вы можете задать положение X/Y экземпляра или установить его скорость и направление, а есть &quot;физическое&quot; перемещение, которое требует физических сил и импульсов для перемещения. Эти системы <strong>взаимно исключают</strong> друг друга, и вы не можете перемещать физический экземпляр, используя нефизические функции, и вы не можете перемещать нефизический экземпляр, используя физические функции.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="../Rooms.htm">Редактор помещений</a></div>
        <div style="float:right">Следующий: <a href="Room_Inheritance.htm">Наследование комнат</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
Room Properties
View Ports
View Cameras
-->
  <!-- TAGS
rooms_properties
-->
</body>
</html>